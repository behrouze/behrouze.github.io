{"componentChunkName":"component---src-templates-wp-post-tsx","path":"/Golang","result":{"pageContext":{"id":"4258c707-e58a-55a7-adb4-e6d2aa61a26a","fileAbsolutePath":"/home/behrouze/Sources/blog/obsidian/Blog/Golang.md","frontmatter":{"categories":["programmation"],"date":"2022-03-08","lastUpdate":"2022-03-08","tags":["programmation","golang","go","tuto"],"title":"Golang"},"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; box-shadow: 3px 5px 4px rgba(0,0,0,.1);margin:1rem;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.906103286384976%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHklEQVQozyWS308SAQCA7//roTKSTVMzszWbW6vVyloZa6W9NbWZLsJfiOCPmi230tWmlj+AU1JAOODgEDyP4zAwlDy+pr18D9/T9/AJLq3KdAHGlBJ2uYhbqzKhw6kfzVYYUI7okw95Ix8yoJRxqie4NPDoYE8f8VJUcMi/mdBMxvdNhJH0H2wrEtfXsjQsK3RuZBmWdDwH8OKbiG3mKzckkzsBnZ7Zed7F8rg1k+d+hdbNPK1+jbpFmY4vXiYNEN5GdM4t7nJfOiaaUnjyeYmumbmziverWxwocfo3EzjFHbZFH0OxPI5gmmt2N3OxDImYRHOwTP1KlpFUCaE3mudCoMyDnRI/UvvcnVuh89MC03mwBfZ4vJWnfd5P+3KUW2KOQeUIV1zn5uwSz9biDK6HqQ9WuLquMpwsIpyiRdSxhKvU+ArUhKo89Sb5WADbmsT5jRJWCS5J0ORVGcuUGZZyNM8HuShBrWhgCZk88qWZ0kEYlQ9oFXWsEWjw69TuQPe2yocCdPll6kIVrkTAGoM2v4ozVcSt/uWedxdLGBo3DCwRuL2aYlIzEezRHG0L21wOVrCGTFqW4jiSJaYK8DqkYv25S10ULD6DjtUYnlwVjwE9vxSalmVqNw9p9Go8/L6FM3uM4NZhYv+E7kCGV36ZoYTB+F4Flw4jcoH+YIbeRIm+sIYjnDlbalyr4syUcSQK9IgJhpJFpoz/q/0DhuQPo3h2HVUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/63f39e97fc0afae42baf52e588e8984f/bc663/golang-gopher-mascotte.webp 213w,\n/static/63f39e97fc0afae42baf52e588e8984f/8dc4f/golang-gopher-mascotte.webp 425w,\n/static/63f39e97fc0afae42baf52e588e8984f/e88ff/golang-gopher-mascotte.webp 600w\"\n              sizes=\"(max-width: 600px) 100vw, 600px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/63f39e97fc0afae42baf52e588e8984f/3cb16/golang-gopher-mascotte.png 213w,\n/static/63f39e97fc0afae42baf52e588e8984f/2fbbf/golang-gopher-mascotte.png 425w,\n/static/63f39e97fc0afae42baf52e588e8984f/0a47e/golang-gopher-mascotte.png 600w\"\n            sizes=\"(max-width: 600px) 100vw, 600px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/63f39e97fc0afae42baf52e588e8984f/0a47e/golang-gopher-mascotte.png\"\n            alt=\"la mascotte Go gopher\"\n            title=\"la mascotte Go gopher\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n<a href=\"https://go.dev/blog/gopher\">origines du Go gopher</a></p>\n<p>Le Go, ou Golang, est un language de programmation open source developpé par Google.</p>\n<h1>Environnement de développement</h1>\n<p>Installer l'executable <code class=\"language-text\">go</code> via <a href=\"apt.md\">apt</a>, <a href=\"chocolatey.md\">chocolatey</a> ou en <a href=\"https://go.dev/doc/install\">téléchargeant le binaire</a> depuis le site officiel.</p>\n<p>Les premières commandes à tapper :</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">go mod init nom-de-mon-projet\ngo build hello.go                <span class=\"token comment\"># permet de compiler le code</span>\ngo run hello.go                  <span class=\"token comment\"># compile + run</span></code></pre></div>\n<h1>Visual Studio</h1>\n<p>L'extension VSCode permet d'avoir a dispo toutes les <a href=\"https://github.com/golang/vscode-go/blob/master/docs/commands.md#commands\">commandes utiles du CLI go</a> via la command palette <code class=\"language-text\">CTRL + SHIFT + P</code>.</p>\n<h1>Coder en Go</h1>\n<h2>Déclaration de package</h2>\n<p>Chaque programme démarre par un <strong>package declaration</strong> qui permet de spécifier au compilateur le type d'artefact que l'on souhaite produire, par exemple un executable avec <code class=\"language-text\">package main</code></p>\n<h2>Import de package</h2>\n<p>Import de <a href=\"https://pkg.go.dev/std#section-directories\">package</a> ex: <code class=\"language-text\">import \"fmt\"</code>\net possibilité d'importer plusieurs package en avec une meme instruction (ici en aliasant les packages):</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\tf <span class=\"token string\">\"fmt\"</span>\n\tt <span class=\"token string\">\"time\"</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>Commentaires</h2>\n<p>On utilise les classiques <code class=\"language-text\">//</code> pour un commentaire sur 1 ligne ou <code class=\"language-text\">/*   */</code> pour les commentaires multilignes.</p>\n<p>De plus il est <a href=\"https://github.com/golang/go/wiki/Comments\">conseillé</a> d'ajouter un <em>commentaire de package</em>, qui pourra etre extrait par <a href=\"https://pkg.go.dev/golang.org/x/tools/cmd/godoc#pkg-overview\">Godoc</a>.</p>\n<h2>Types et Variables</h2>\n<h3>Named vs UnNamed</h3>\n<p>Les \"chaines de caractères\" ou les nombres sont appelés des <strong>literals</strong> et peuvent etre utilisés tel quel dans du code (sont donc en quelque sorte des <em>unnamed values</em>) pour des opérations (pour les nombres) ou des traitements.</p>\n<p>Les named values d'un autre coté sont des constantes ou des variables :</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">const</span> unTextQuelconque <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello toto !\"</span></code></pre></div>\n<p>Les variables sont <strong>initialisées automatiquement</strong> : <code class=\"language-text\">0</code>, <code class=\"language-text\">\"\"</code> ou <code class=\"language-text\">false</code></p>\n<h3>Nombres</h3>\n<p>Les variables numériques peuvent etre catégorisé en :  <code class=\"language-text\">int</code>, <code class=\"language-text\">float</code>, and <code class=\"language-text\">complex</code></p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> uneVarNum <span class=\"token builtin\">uint8</span> <span class=\"token comment\">// déclaration seule</span>\nuneVarNum <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\nuneAutreVarInt <span class=\"token operator\">:=</span> <span class=\"token number\">0</span> <span class=\"token comment\">// déclaration et initialisation d'une variable avec inférence de type</span>\n<span class=\"token keyword\">var</span> uneDerniereBool <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// autre syntaxe pour l'inference</span>\n\n<span class=\"token keyword\">var</span> magicNum<span class=\"token punctuation\">,</span> powerLevel <span class=\"token builtin\">int32</span> <span class=\"token comment\">// déclaration multiple</span>\nunTexte<span class=\"token punctuation\">,</span> unBooleen <span class=\"token operator\">:=</span> <span class=\"token string\">\"blah blah blah\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span></code></pre></div>\n<h1>Documentation en ligne</h1>\n<p>la commande <code class=\"language-text\">go doc</code> permet d'obtenir de l'aide sur un package ou un membre d'un package:</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">go</span> doc fmt             # affichera l'<span class=\"token builtin\">int</span>égralité de la doc du <span class=\"token keyword\">package</span> fmt\n<span class=\"token keyword\">go</span> doc fmt<span class=\"token punctuation\">.</span>formatter   # affichera la doc du <span class=\"token keyword\">type</span> Formatter</code></pre></div>\n<h1>Liens</h1>\n<ul>\n<li><a href=\"https://www.codecademy.com/courses/learn-go/lessons/learn-go-introduction/exercises/from-the-get-go\">tuto CodeCademy</a> sur et leurs <a href=\"https://www.codecademy.com/learn/learn-go/modules/learn-go-introduction/cheatsheet\">cheat sheet</a></li>\n<li>la lib <a href=\"https://github.com/playwright-community/playwright-go#readme\">Playwright pour Go</a></li>\n<li>comparatif <a href=\"https://codersera.com/blog/go-vs-rust/\">Rust vs Go</a></li>\n<li>la page officielle <a href=\"https://go.dev/learn/\">go.dev/learn</a> avec des resources pour apprendre le go</li>\n</ul>\n<h2>Concernant le poid des binaires générés en Go</h2>\n<ul>\n<li>une <a href=\"https://www.cockroachlabs.com/blog/go-file-size/\">étude sur la taille du binaire</a> compilé en go  par un ingé de CockroachDB (par ex un simple Hello Wold pèse 1.8M !! ⚓)</li>\n<li>la doc officielle : [Why is my trivial program such a large binary](<a href=\"https://go.dev/doc/faq#Why_is_my_trivial_program_such_a_large_binary\">https://go.dev/doc/faq#Why_is_my_trivial_program_such_a_large_binary</a> ?)  qui propose de retirer les infos de debug pour un exécutable de production : <code class=\"language-text\">go build -ldflags=-w main.go</code> (réduit la taille de l'exé de 25% pour un Hello World)</li>\n</ul>"}},"staticQueryHashes":["1026020893","2750442709","28434099"]}