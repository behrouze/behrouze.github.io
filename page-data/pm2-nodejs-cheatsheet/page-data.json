{
    "componentChunkName": "component---src-templates-wp-post-tsx",
    "path": "/pm2-nodejs-cheatsheet",
    "result": {"pageContext":{"id":"b9c01543-de38-57f1-bc07-77e6705fa7fb","fileAbsolutePath":"/Users/behrouze/Sources/gatsby-blog/obsidian/Blog/pm2-nodejs-cheatsheet.md","frontmatter":{"categories":["linux"],"date":"2018-05-28","lastUpdate":null,"tags":["linux","nodejs"],"title":"PM2 cheatsheet"},"html":"<p>PM2 (production process manager) est un outil développé par la société keymetrics et permettant de démarrer, garder \"en vie\" (après crash ou reboot) et monitorer une application Node.js. Parfois un bon <a href=\"https://expressjs.com/en/advanced/pm.html#systemd\">SystemD</a> suffit a réaliser cette tache, mais PM2 apporte des outils visuels en CLI (monitoring et status) avec la possibilité de configurer une arborescence de configurer un ensemble d'application via un <a href=\"https://pm2.io/doc/en/runtime/guide/ecosystem-file/?utm_source=pm2&#x26;utm_medium=website&#x26;utm_campaign=rebranding#generate-a-template\">fichier de configuration</a>: puis un lancement via <code class=\"language-text\">pm2</code> start <a href=\"https://pm2.io/doc/en/runtime/guide/ecosystem-file/?utm_source=pm2&#x26;utm_medium=website&#x26;utm_campaign=rebranding\">ecosystem.config.js</a></p>\n<p>L'installation se fait via npm: npm install <code class=\"language-text\">pm2 -g</code></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">pm2 start commande        <span class=\"token comment\"># ex: pm2 start node /var/www/monsite/server/bundle.js</span>\npm2 start processes.json\npm2 <span class=\"token function\">kill</span>\n\npm2 status                <span class=\"token comment\"># liste les process démarrés avec leurs ID utilisable avec 'show'</span>\npm2 show <span class=\"token number\">0</span>                <span class=\"token comment\"># détail du process d'ID 0</span>\npm2 monit                 <span class=\"token comment\"># moniteur complet de tous les process</span>\npm2 save                  <span class=\"token comment\"># Freeze la liste de process pour les relancer au prochain reboot</span>\n\npm2 startup               <span class=\"token comment\"># génère la ligne de commande à exécuter via sudo pour démarrage auto</span>\npm2 unstartup\npm2 unstartup systemd     <span class=\"token comment\"># supprime les scripts d'init de PM2</span>\npm2 ecosystem             <span class=\"token comment\"># genère un process file d'exemple</span></code></pre></div>\n<p><a href=\"http://pm2.keymetrics.io/docs/usage/quick-start/#cheatsheet\"><em>Liste exhaustive des commandes</em></a> et <a href=\"http://pm2.keymetrics.io/docs/usage/quick-start/#cheat-sheet\">quick start</a></p>\n<p>Keymetrics propose également un service de monitoring assez complet online (avec système de <a href=\"http://pm2.keymetrics.io/docs/advanced/pm2-module-system/\">modules</a>), avec un <a href=\"http://pm2.keymetrics.io/docs/usage/application-declaration/#process-file\">interface Web</a>.</p>"}},
    "staticQueryHashes": ["1026020893","28434099","3153813225"]}