{"componentChunkName":"component---src-templates-wp-post-tsx","path":"/asp-net-mvcscaffolding","result":{"pageContext":{"id":"bc4cecdb-bb0f-513f-9718-2de2cb8460de","fileAbsolutePath":"/home/behrouze/Sources/blog/obsidian/Blog/asp-net-mvcscaffolding.md","frontmatter":{"categories":["dot-net","productivite"],"date":"2014-09-04","lastUpdate":null,"tags":["entity-framework","nuget"],"title":"ASP.Net MvcScaffolding"},"html":"<h2>Définition</h2>\n<p>Scaffolding, mais que signifie donc ce terme barbare ? La traduction littérale en Français du mot anglais \"<strong>scaffolding</strong>\" est \"<strong>échafaudage</strong>\". Dans l'univers du développement cela se rapporte à la <strong>création automatisé</strong> d'une sorte de squelette de code.</p>\n<p>ASP.NET Scaffolding est un <a href=\"http://www.asp.net/visual-studio/overview/2013/aspnet-scaffolding-overview\" title=\"ASP.Net scaffolding\">framework de génération de code</a> pour la conception d'applications web, il est inclus dans Visual Studio ( > 2010) en standard pour les projets ASP.Net MVC. Il apparait dans l'interface graphique de VS lorsqu'on ajoute un Controller par exemple avec génération des Views avec Entity Framework:</p>\n<p><a href=\"http://brooz.fr/wp-content/uploads/2014/09/VS2013_scaffolding_ASP.Net_MVC.png\"><img src=\"images/VS2013_scaffolding_ASP.Net_MVC-150x150.png\" alt=\"VS2013_scaffolding_ASP.Net_MVC\"></a></p>\n<h2>Scaffolding en ligne de commande NuGet</h2>\n<h3>installation et démarrage</h3>\n<p>Exploiter un outil en <strong>ligne de commande</strong> permet de <strong>mieux contrôler l'outil</strong> (en spécifiant les options ou désignant des cibles).</p>\n<p>Pouvoir utiliser cette outil de génération de code depuis le <strong>Pacakge Manager Console</strong> (<strong>PMC</strong>), en ligne de commande, il faut tout d'abord installer le package Nuget MvcScaffolding. Si vous avez découper votre solution Visual Studio en plusieurs projets (et c'est mieux), il faudra se rappeler que cet outil permets de générer (entre autres) des Controllers et des Views, il donc doit être <strong>installé</strong> et <strong>exécuté</strong> dans votre projet \"Frontal\" (votre projet ASP.Net MVC).</p>\n<p>Pour <strong>installer le package NuGet</strong> depuis la console Nuget il suffit d'y entrer:</p>\n<p><code class=\"language-text\">Install-Package MvcScaffolding</code></p>\n<p>Cela nous donnera accès à la commande Scaffold depuis la PMC.</p>\n<p>Note: si lorsque vous tappez Scaffold dans la PMC, la console vous retourne: \"The term 'Scaffold' is not recognized as the name of a cmdlet...\" c'est que vous avez soit installé le package MvcScaffolding dans le mauvais projet, soit que vous avez exécuté votre commande sur le mauvais projet (à sélectionner dans la dropdown list du PMC \"Defaul Project\".</p>\n<h3>la commande Scaffold et ses paramètres</h3>\n<p>Une rapide consultation de l'aide en ligne de la commande <strong>Scaffold</strong> (get-help Scaffold) qui est en fait un alias de la commande <strong>Invoke-Scaffolder</strong>, ne nous donne que très peu d'indications... Il suffit en fait d'utiliser la touche TAB du clavier (c'est une console PowerShell après tout) pour parcourir les arguments disponibles.</p>\n<p>Un exemple de commande:</p>\n<p>Scaffold Controller -ControllerName Adresses -ModelType MonNamespace.Domain.Entities.Adresse -DbContext MonNamespace.Domain.CMContext</p>\n<p>cette commande (<em>Scaffold Controller</em>) va me créer:</p>\n<ol>\n<li>le controller <strong>AdressesController</strong>: <em>-ControllerName Adresses</em></li>\n<li>selon mon modèle de données (Domain Model) <strong>Adresse</strong>: <em>-ModelType MonNamespace.Domain.Entities.Adresse</em></li>\n<li>en utilisant (ou créant s'il n'existe pas) le <strong>DbContext</strong>: <em>-DbContext MonNamespace.Domain.CMContext</em></li>\n<li><strong>toutes les vues</strong> (listing, détail, édition, création, confirmation de suppression) associées à ce controller</li>\n</ol>\n<p>Et voilà un ÉNORME gain de temps :) Bien sure cela sert de point de départ mais nous évite de créer chaque composant à la mano... merci qui  ? merci <a href=\"http://blog.stevensanderson.com/2011/01/13/mvcscaffolding-standard-usage/\" title=\"mvcscaffolding\">Steven Sanderson</a> et <a href=\"http://www.hanselman.com/blog/ModifyingTheDefaultCodeGenerationscaffoldingTemplatesInASPNETMVC.aspx\" title=\"MvcScaffolding\">Scott Hanselman</a> !</p>\n<h3>autres paramètres utiles</h3>\n<p>La commande Scaffold comporte bien d'autres paramètres tels que:</p>\n<ul>\n<li>Scaffold Controller</li>\n<li>Scaffold Action</li>\n<li>Scaffold View</li>\n<li>Scaffold Views</li>\n<li>Scaffold Repository</li>\n<li>Scaffold DbContext</li>\n<li>Scaffold UnitTest</li>\n</ul>\n<p>Je vous invite à les découvrir ainsi que leurs options, cela pourrait vous faire gagner énormément de temps notamment dans les phases de prototypage.</p>"}},"staticQueryHashes":["1026020893","28434099","3153813225"]}