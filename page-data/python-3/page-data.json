{
    "componentChunkName": "component---src-templates-wp-post-tsx",
    "path": "/python-3",
    "result": {"pageContext":{"id":"e00cfc0c-e4c4-50a7-aafa-a10bef5b8b91","fileAbsolutePath":"/home/behrouze/Sources/blog/obsidian/Blog/python-3.md","frontmatter":{"categories":["python"],"date":"2018-09-23","lastUpdate":null,"tags":["python"],"title":"Python 3"},"html":"<p>Ce post fait suite à mon inscription au <a href=\"https://www.fun-mooc.fr/courses/course-v1:UCA+107001+session02/eb326b60bec3461ba2621fd4d6bd95b8/\">MOOC Python 3 sur FUN</a> et sera donc un \"aide mémoire ? extended\".</p>\n<h1>Installation</h1>\n<h2>Linux Debian like</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install python3 python3-venv python3-pip</code></pre></div>\n<h2>Windows</h2>\n<p>choco install python /y\n<code class=\"language-text\">choco install pip /y</code></p>\n<h2>Aide</h2>\n<p>Pour obtenir de la <strong>liste des propriété</strong> et <strong>méthodes</strong> disponibles sur un <strong>objet</strong> ou un <strong>type</strong>, il suffit de faire:</p>\n<p>dir(monobjet)</p>\n<p>et pour obtenir de l'aide sur une méthode donnée</p>\n<p>help(str.startswith)</p>\n<h1>Variables &#x26; types</h1>\n<h2>Les types</h2>\n<p><strong>str</strong> : chaine de caractère (string)</p>\n<p><strong>bool</strong>: True (vaut <strong>1)</strong>/ False (vaut <strong>0</strong>)</p>\n<p><strong>int</strong> : entiers de précisions illimitées ; Pour caster un nombre en entier on utilise la <strong>fonction int( )</strong></p>\n<p><strong>float</strong> : compris entre 10-308 et 10308 avec une précision de 12 chiffres significatifs (<strong>sys.float_info.min</strong> et <strong>sys.float_info.max</strong>) Pour caster un nombre en float on utilise la fonction <strong>float( )</strong> et pour éviter les erreurs d'arrondis sur:</p>\n<ul>\n<li>des nombres rationnels (x/y), utiliser le <strong>module fraction</strong></li>\n<li>le <strong>module decimal</strong> (plus gourmand en ressources machine)</li>\n</ul>\n<p><strong>complex</strong> : entier + nombre imaginaire noté j en Python (alors qu'en math il est noté i) Pour caster un nombre en complex on utilise la fonction complex( )</p>\n<p><strong>byte</strong> : binaire</p>\n<p><strong>list</strong> : liste de valeurs (attention, non typée)</p>\n<p>Il est possible de <strong>formater</strong> les <strong>entier</strong> ou <strong>floats</strong> avec des <strong>_</strong> (ex: 12_345 == 12345) pour les rendre <strong>plus lisible</strong>.</p>\n<h2>Entier en bases X</h2>\n<p>var_en_base_2 = 0b10001001 # base 2, notation binaire\nbin(17) == 0b10001 # la fonction bin( ) effectue une conversion de base 10 en binaire</p>\n<p>var_en_base_hexadecimale = 0x10001001 # base 16</p>\n<p>var_en_base_octale = 0o10001001 # base 8</p>\n<p><em>voir <a href=\"https://docs.python.org/3/library/stdtypes.html#bitwise-operations-on-integer-types\">doc officielle</a></em></p>\n<h2>les opérateurs</h2>\n<p>En plus des opérateur mathématique classiques, <strong>python offre les opérateurs</strong> suivants :</p>\n<p>// : est le <strong>quotient</strong>, qui donne un entier résultant d'une division enière équivalent à un <em>Math.floor( ) en Javascript</em></p>\n<p>% : le <strong>modulo</strong>, restant de la division</p>\n<p>** : **puissance**</p>\n<p>>>> 17/5\n3.4</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>17//5\n3\n17%5\n2</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<h2>le typage dynamique</h2>\n<p>Python est un langage a <strong>typage dynamique</strong>, c'est à dire que les variables sont du <strong>type de l'objet</strong> qui leur est affectée et donc leur type (celui des variables) peut varier dans le temps <strong>en fonction des affectations</strong></p>\n<p>x = 1 # x est de type int, car on lui a affecté le chiffre 1 qui est un objet de type int</p>\n<p>x = ['a','b'] # type(x) == list</p>\n<p>on a 2 fonctions utiles à déterminer le type d'un objet <strong>type( )</strong> et <strong>isinstance( )</strong> :</p>\n<p>type(x) # retourne int, str, list etc.</p>\n<p>isinstance(x, int) # retourn True ou False</p>\n<p>Depuis python-3.5, il est <strong>possible</strong> d'ajouter des annotations de type à utiliser avec des outils comme <a href=\"http://www.mypy-lang.org/\">mypy</a>.</p>\n<h1>Entrées/sortie de base</h1>\n<p>Pour récupérer une saisie utilisateur et l'afficher on utilise les fonction <strong>input( )</strong> et <strong>print( )</strong></p>\n<p>chiffre_saisi = input(\"saisi un chiffre, por favor ? \")</p>\n<p>print(f\"le chiffre saisi est {int(chiffre_saisi)}\") # si autre chose qu'un entier est saisi, cela lève une exception: ValueError: invalid literal for int()</p>\n<p><em>note: cette notation  <strong>print(f\"</strong>... a été introduite en python 3</em></p>\n<h1>Séquences</h1>\n<h2>opérations de base possibles sur les séquences</h2>\n<p>Il est possible d'appliquer un ensemble d'opérations de bases aux séquences. Pour les exemples suivants, ces opérations sont appliquées à une chaine de caractère qui est un type particulier de séquence:</p>\n<p>seq ='behrouze'</p>\n<p>seq[3] # 'r' on récupère l’élément d'index spécifié</p>\n<p>'beh' in seq # True test d'appartenance\n'beh' not in seq # False</p>\n<p>'be' 'hrou' == 'be'+'hrou' # 'behrou' concaténation</p>\n<p>len(seq) # 8 nombres d'éléments de la séquence</p>\n<p>seq.index('e') # position de la 1ère occurrence de l'élément spécifié</p>\n<p>count('e') # 2 nombres d’occurrences de l'élément spécifié</p>\n<p>min(seq) # 'b'\nmax(seq) # 'z'</p>\n<p>seq * 3 # shallow copy, retourne ici 3 fois la séquence</p>\n<h2>slice</h2>\n<p>Il est possible de <strong>découper une séquence</strong> simplement grâce aux [ ] d'index, c'est l'opération de slicing dans laquelle on peut spécifier (optionnel) les <strong>début</strong>, <strong>fin</strong> et <strong>pas</strong> .</p>\n<p>machaine[debut:fin:pas]</p>\n<p>A noter que :</p>\n<ul>\n<li>l'élément <strong>début</strong> est <strong>inclus</strong>, alors que l'élément <strong>fin</strong> est <strong>exclu</strong></li>\n<li>des <strong>début</strong>, <strong>fin</strong> et <strong>pas</strong> <strong>négatifs</strong> peuvent être spécifiés</li>\n<li>\n<p>une même séquence sera indexée dans les 2 sens, c'est à dire de [0:n] et de [-(n+1): -1] par Python, cela signifie que :\nseq ='behrouze' # pour info len(seq) == 8\nseq[1:4] <mark className=\"\"> seq[-7:4] == seq[-7:-4] </mark> 'ehr'</p>\n</li>\n<li>un <strong>pas négatif</strong>, indique que le <strong>parcours de la séquence</strong> se fait de la <strong>droite vers la gauche</strong></li>\n</ul>\n<h2>Les listes</h2>\n<p>Les listes sont des séquences qui <strong>stockent des références</strong> vers des objets en mémoire, ils ne stockent pas ces objets et sont <strong>mutables</strong> (ex les méthodes comme sort( ) modifient directement la liste, mais attention retourne nul).</p>\n<p>Il est possible de manipuler les listes en leurs affectant des éléments :</p>\n<p>seq = ['behrouze',5, False]</p>\n<p>seq[1] = True # remplacement ['behrouze', True, False]</p>\n<p>seq[1:2] = [888, 'toto'] # affectation sur un slice ['behrouze', 888, 'toto', False]</p>\n<p>del seq[:1] # équivalent à un seq[:1] = [] => [888, 'toto', False]</p>\n<p>seq.append('behrouze') # [888, 'toto', False, 'behrouze']</p>\n<p>seq.extend(['aaa', 78, 'bbb']) # [888, 'toto', False, 'behrouze', 'aaa', 78, 'bbb']</p>\n<p>à étudier les autres méthodes dispo par un dir(list)  puis help(list.lamethodeaetudier)</p>\n<h3>String et Lists</h3>\n<p>Pour passer d'une chaine de caractère à une liste (pour y effectuer des opération) puis repasser en string, on peut utiliser la mécanique suivante str.spli(' ') puis ' '.join(list):</p>\n<p>mastring = 'toto aime le choco'\nmaliste = mastring.split(' ') # ['toto', 'aime', 'le', 'choco']\nmaliste[1] = maliste[1].upper() # ['toto', 'AIME', 'le', 'choco']\nmastring = ' '.join(maliste) # 'toto AIME le choco'</p>\n<h2>Compréhensions de liste</h2>\n<p>Les <strong>compréhensions de liste</strong>, en anglais \"<strong>list comprehensions</strong>\" sont du sucre syntaxique pour rendre plus concis et lisible, les structures itératives avec condition:</p>\n<p>ma_nouvelle_liste = [function(x) for x in ma_liste if condition(x)]</p>\n<h2>Tuples</h2>\n<p>Un Tuple est un objet de type <strong>séquence</strong> mais contrairement à l'objet List elle est <strong>immuable</strong> et on les déclare de la façon suivante:</p>\n<p>mon_tuple = 1,2 # à noter que 1,2 <mark className=\"\"> 1,2, == (1,2) </mark> (1,2,)</p>\n<p>Il est possible d'additionner des tuples:</p>\n<p>tuple1 = (1,)\ntuple2 = (2, 'toto', 3)\ntuple3 == (1, 2, 'toto', 3) # tuple3 = tuple1 + tuple2</p>\n<h3>Tuples et Lists</h3>\n<p>Il est possible de caster une liste en Tuple et inversement avec les builtin functions <strong>list</strong> et <strong>tuple</strong></p>\n<p>list(tuple3) == [1, 2, 'toto', 3]\ntuple([1, 2, 'toto', 3]) == tuple3</p>\n<h3>Sequence unpaking</h3>\n<p>(TODO)</p>\n<h1>Fonctions</h1>\n<p>En Python, les <strong>blocs d'instructions</strong> sont définis grâce à l'<strong>indentation</strong> (de 4 espaces), ce qui nous sert pour les blocs d'instructions compris dans des <strong>if/else</strong> ou dans des <strong>boucles for</strong>, mais aussi lors de la <strong>définition de fonctions</strong>:</p>\n<p>def ma_fonction_qui_affiche_qqchose(x):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">print(f\"voilà quelque chose: {x}\")</code></pre></div>\n<h1>Modules</h1>\n<p>Un module est un fichier Python qui peut être importé sous la forme d'un objet Module dans un autre fichier Python et qui met à disposition un certain nombre de fonctionnalités.</p>\n<p>Python dispose d'une <a href=\"https://docs.python.org/fr/3/library/index.html\">bibliothèque standard de modules</a> installés par défaut, mais il en existe <a href=\"https://pypi.org/\">bien d'autres</a>.</p>\n<h1>Fichiers</h1>\n<h2>Ouvrir un fichier</h2>\n<h3>ouvrir un fichier à l'ancienne</h3>\n<p>On utilise la <strong>fonction open</strong> pour <a href=\"https://docs.python.org/fr/3/tutorial/inputoutput.html#reading-and-writing-files\">ouvrir les fichiers</a> et obtenir un <strong>objet de type fichier</strong> sur lequel on peut utiliser des méthodes de lecture (read), écriture (write) recherche (seek) etc.</p>\n<p>fichier = open(r'C:\\temp\\monfichier.txt', 'w', encoding='utf-8')\n...\nfichier.close() # ne pas oublier de TOUJOURS fermer le fichier</p>\n<ul>\n<li>le 1er argument de la fonction est précédé d'un r (sous Windows) pour ne pas avoir à doubler les antislash (\\) car \\n \\t etc sont des caractères spéciaux</li>\n<li>le 2ème argument spécifie le mode d'ouverture du fichier :\n<ul>\n<li>r : read</li>\n<li>w : write</li>\n<li>r+ : read + write</li>\n<li>a : append</li>\n<li>b : binaire pour la manipulation de bytes (images, audio, exe etc.)</li>\n</ul>\n</li>\n</ul>\n<h3>ouvrir un fichier avec le context manager</h3>\n<p>L'instruction <strong><a href=\"https://docs.python.org/fr/3/reference/compound_stmts.html#with\">with</a></strong> permet d'encapsuler l’exécution du bloc de code suivant pour utiliser un context manager qui implémente le pattern try..except..finally et <strong>appel automatiquement</strong> la méthode <strong>close( )</strong> même en cas de survenue d'une exception (<a href=\"https://zestedesavoir.com/tutoriels/954/notions-de-python-avancees/3-further/2-context-managers/\">lire à ce sujet</a>).</p>\n<p>with open('foo.txt', 'w', encoding='utf-8') as fichier:\nfor i in range(2):\nfichier.write(f\"{i}\\n\")</p>\n<p>Cela évite de laisser des fichiers ouverts et dans un état inconsistant.</p>\n<p><em>Attention</em>, un <strong>objet fichier</strong> est un <strong>itérateur</strong> et n'est donc parcourable qu'une seule fois, pour le parcourir plusieurs fois, il faudra le fermer et le ré-ouvrir.</p>\n<h2>utilitaires</h2>\n<p><em>Avant</em> Python 3.4 il fallait utiliser les module <a href=\"https://docs.python.org/3/library/filesys.html\">os et glob</a> pour disposer d'utilitaires pour travailler dans un système de fichiers, depuis a été introduit le <strong>module <a href=\"https://docs.python.org/fr/3/library/pathlib.html\">pathlib</a></strong> pour <strong>moderniser</strong> (OO) et <strong>regrouper</strong> toutes les fonctionnalités relatifs aux manipulations de dossiers/fichiers dans un même module. La classe principale étant la <a href=\"https://docs.python.org/fr/3/library/pathlib.html#basic-use\">classe Path</a>.</p>\n<p>La manipulations de fichiers de type <a href=\"https://docs.python.org/fr/3/library/json.html\">JSON</a>, <a href=\"https://docs.python.org/fr/3/library/csv.html\">CSV</a>, <a href=\"https://docs.python.org/fr/3/library/xml.html\">XML</a> se fait via des modules dédiés.</p>\n<h1>Liens</h1>\n<p><a href=\"https://docs.python.org/3/tutorial/introduction.html\">tuto officiel Python</a> pour débutant</p>\n<p><a href=\"https://legacy.python.org/dev/peps/pep-0008/#descriptive-naming-styles\">conventions de nommage en Python</a></p>\n<p><a href=\"https://docs.python.org/3/reference/lexical_analysis.html#keywords\">mots clé réservés</a> du language</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 601px; box-shadow: 3px 5px 4px rgba(0,0,0,.1);margin:1rem;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3cf229eedc092549277e8859aad2fca5/d8f62/python-logo-master-v3-TM.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.80281690140845%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAArwAAAK8AFCrDSYAAABJElEQVQoz32RPUvDUBSG8/+cdHDwT/gDXB0UcXN0cC06i9BWLG0tpkNpoZIloZCQEJKQFhrN180j95q0WIIvnHvPec8H50OrqgopEpskoxC/ehuEELvYNkifJuqAVbDl9PaVq6cPZRelII5j8jxXhYIgQNd1TNNUfukry5L1ek2SJKRpqnhNPk605fj6mZPLDncPFxDf4/kbJpN3RqMRlmUxHA7p9/ssFgu63S7L5ZJer8d0OsV13X2HUrHDlJvOI4V1Bp9HEHawVi6DwRuz2UwVk4nz+ZwwDBmPxxiGoX7btvF9f1+wqkS9gIDKPKf0X5TpeR6O4yhddhNF0W6PEs2IhzvVGrIU8PWdk2XFn6C2IzRcW5wG8soNUUt9+cOE/6QZ+Qer6BCTlChb6gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/3cf229eedc092549277e8859aad2fca5/bc663/python-logo-master-v3-TM.webp 213w,\n/static/3cf229eedc092549277e8859aad2fca5/8dc4f/python-logo-master-v3-TM.webp 425w,\n/static/3cf229eedc092549277e8859aad2fca5/84ad9/python-logo-master-v3-TM.webp 601w\"\n              sizes=\"(max-width: 601px) 100vw, 601px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/3cf229eedc092549277e8859aad2fca5/3cb16/python-logo-master-v3-TM.png 213w,\n/static/3cf229eedc092549277e8859aad2fca5/2fbbf/python-logo-master-v3-TM.png 425w,\n/static/3cf229eedc092549277e8859aad2fca5/d8f62/python-logo-master-v3-TM.png 601w\"\n            sizes=\"(max-width: 601px) 100vw, 601px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/3cf229eedc092549277e8859aad2fca5/d8f62/python-logo-master-v3-TM.png\"\n            alt=\"python logo master v3 TM\"\n            title=\"python logo master v3 TM\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>"}},
    "staticQueryHashes": ["1026020893","28434099","3153813225"]}