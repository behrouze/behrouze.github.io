{"componentChunkName":"component---src-templates-wp-post-tsx","path":"/require-js","result":{"pageContext":{"id":"5dccdf7b-b246-5bd1-aa17-7fc05a79385c","fileAbsolutePath":"/home/behrouze/Sources/blog/obsidian/Blog/require-js.md","frontmatter":{"categories":["programmation"],"date":"2017-01-10","lastUpdate":null,"tags":["debutant","fullstack","javascript","jquery","programmation","tutoriel","require","require.js"],"title":"Require.js"},"html":"<h2><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; box-shadow: 3px 5px 4px rgba(0,0,0,.1);margin:1rem;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0096067d3a78ba83226932af563530fa/8a4e8/logo_requirejs-150x150.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD2klEQVQ4y32V+08cVRTH+T/U0l/8zbYgb9jCLmCjpEoTm8YHNbYxKorGV5rUV00otT9pGgyNVoEub7AkmtBoTEApEVqkQpVC2KVUIbCvYXZmZ2ZfM/Mxe1leW+JNzmTm3ns+c849935vlm3b7LTNFo/H8fl8os/r9aJpmvj2eDxbczJ9U5aVCQoGg6yurhIOh/l9fAI9GsW7uIiiRpicus30zB1UVWVmZmYLalnWbmCqRaNRTNNEkiR+Gx1FlmXiWhgwwU4AFpAQc+fm57m3tISiKFuBbEKzUi+ptry8zOTkLWKJBBFZIhY1+DNg8fUfKudHZS7ckOm4o7EgJcVPbCuJphtIUkj4bkJFhIFAAMMw8C7ew4pprOjw9s8yZW1r5LhlHuvSONClkdsu4XL7aBpTMExIxgwWPF7hG4vFBDQr9RgZGeHmrUnRMS8learLR0F7iMN9Kq+0TNF4YZBzF3+g7ptZSvs08r7zc/rHEGrcFktxd24Oj2dhG5iqqKFr6Amb5weDFLklat3/cr3+Q9SjTpKVxSSqSpCeqebqB19wpCdEXqufT38Ng22ytHSfRGJjfUXKVrrInX9p5Lf6OdIdZOx0A7hyUaorUU5WoDznRK10QWUOve9cFNE72n3cXotvrJ/NdpUtUWmbN4ZC5HRrNDZdg+p81mueINp/EEvPxgzvR2/OQ6muwqhx8PpXNznkDnNpQhG+SSu9baz0tlk3TI4PBCjsiTD01seYjhIinxVj8xBWch82j2DF96G8Wo5dUUjLJ1c40K3z3k+hdIQZQL9mcqwvQHGPwnD9+yRKStFb8jeAkWwsI1tA1bOlWGVFtJ1t5mC3RsP1DKCdTjeasKgbDPB4j4b7zJfYzgLCp5yY0n5sHhbg5N1HkWursKoKReVTW+ncyLoAmtYOoJmuSuOoTK5b5tTlaZSjLvTKCsKvlRO9dgijMwf5hUqSrhIWTxznafcy+W1BBud04ZvcCzjjj1Pe7qOsL8L5xu8xag5jVRQRcziIlTnAWYC/9kkaLo1R2K3w7ECAcNQSGVqZ4rAJvTwVIe/bNRz9Eeqbxxl68yP+rjvJzEsv0//u57x4ZZaSXpXS1jWG78d2pbsLuK06Ns2TEXHscjvCFPRGcHUFcXaFyOvVyL26TnWHjyFP9AHYA0BR8TR0fDnKmV8kjvX5cXUEqOr0c2LAT9MNGe96QszJhO0Z4U5tTDU5BkuKxT+qhZ7cNfT/ArsJSp3J6elpZufmUBQVXVWIaRsWURUhtMsrK0LF94LuCRweHmZiYkIoc0po1+Vw2mRxFaSugdT4TmHdBP4HIktl3CVTB2IAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0096067d3a78ba83226932af563530fa/8e964/logo_requirejs-150x150.webp 150w\"\n              sizes=\"(max-width: 150px) 100vw, 150px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0096067d3a78ba83226932af563530fa/8a4e8/logo_requirejs-150x150.png 150w\"\n            sizes=\"(max-width: 150px) 100vw, 150px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0096067d3a78ba83226932af563530fa/8a4e8/logo_requirejs-150x150.png\"\n            alt=\"logo requirejs 150x150\"\n            title=\"logo requirejs 150x150\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>Qu'est ce que c'est ?</h2>\n<p>Un outil (bibliothèque) qui nous permet en <strong>javascript</strong> d'écrire du code \"modularisé\", de gérer les <strong>dépendances</strong> entre nos différents <strong>modules</strong> et de les charger de manières <strong>asynchrone</strong>.</p>\n<h2>A quoi ca sert ?</h2>\n<p>Ça sert à <strong>ne plus avoir</strong> un paquet de balises <script> dans nos fichiers HTML qui référencent des fichiers javascript (tel que jquery.js, bootstrap.js, monscript.js, etc.). Il faut savoir qu'un amas de script peut poser des <strong>problèmes d'interférences</strong> (notamment lorsque ces scripts définissent des variables dans le scope global) et vous empêcher d'utiliser les fonctionnalités souhaitées de ces librairies qui sont pourtant bien incluses là ou le voulez dans vos scripts.</p>\n<p>Pour cela il faut découper notre code javascript en modules (l'utilisation d'autres <strong>bibliothèque</strong> tel que <a href=\"http://backbonejs.org/#Model-View-separation\">Backbone.js</a> facilite cela), qui sont simplem</p>\n<p>ent des parties isolables de notre code JS.</p>\n<h2>Comment ça s'utilise ?</h2>\n<ol>\n<li><strong>inclure require.js</strong> dans notre page <strong>HTML</strong> (que ce soit une simple page ou une <a href=\"https://fr.wikipedia.org/wiki/Application_web_monopage\">SPA</a>) en spécifiant notre script de démarrage qui est <strong>main.js</strong> (notez que le <strong>.js</strong> est omis volontairement) dans l'attribut data-main :</li>\n</ol>\n<script src=\"scripts/require.js\"data-main=\"scripts/main\"></script>\n<ol start=\"2\">\n<li>\n<p>la 1ère chose à faire dans le main.js est de ce script de <a href=\"http://requirejs.org/docs/api.html#config\"><strong>configurer</strong> require</a> , il y a pas mal d'options possible:</p>\n<p>requirejs.config({...</p>\n</li>\n<li>\n<p><strong>lancer notre application js</strong> en spécifiant (c'est tout l’intérêt) ses dépendances ici un seul script fictif nommé foo.js (ne pas mettre de .js encore une fois, requirejs s'attend à charger des scripts .js !) :</p>\n<p>require(['foo'], function(Foo) {\n// ...notre code utilisant Foo(ses classes, méthodes etc.)\n});</p>\n</li>\n<li>\n<p><strong>définir</strong> si nécessaire nos \"modules\", pour cela et pour reprendre la déclaration précédente, nous aurons un fichier <strong>foo.js</strong> dont le contenu serait du type :</p>\n<p>define(\n['unautremoduleoupas'],\nfunction (Mod2)\n{\nreturn {\n// ...du code exploitant notamment Mod2\n}\n});</p>\n</li>\n</ol>\n<h2>2 Syntaxes possibles AMD ou CommonJS</h2>\n<p>Pour définir vos modules il est possible d'utiliser 2 syntaxe, la première étant un peu plus difficile à lire lorsqu'il y a de nombreuses dépendance, mais à vous de choisir :)</p>\n<p>define(\n['module'],\nfunction (Mod) {\nreturn {\n// ...du code exploitant notamment Mod\n}\n});</p>\n<p>ou alors (et c'est peut être plus lisible):</p>\n<p>define(function(require) {\nvar mod = require(\"./relative/name\");\n});</p>\n<h2>Resources</h2>\n<p>Une <a href=\"https://prezi.com/1te047gi9w_u/requirejs/\">présentation technique (format Prezi)</a> que j'ai fait chez le client</p>"}},"staticQueryHashes":["1026020893","2750442709","28434099"]}