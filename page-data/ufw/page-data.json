{
    "componentChunkName": "component---src-templates-wp-post-tsx",
    "path": "/ufw",
    "result": {"pageContext":{"id":"33ee75e4-b904-5185-b453-bfba11f75a4c","fileAbsolutePath":"/home/behrouze/Sources/gatsby-blog/obsidian/Blog/ufw.md","frontmatter":{"categories":["linux"],"date":"2017-11-05","lastUpdate":null,"tags":["firewall","iptables","linux","securite","ssh","ufw"],"title":"UFW un simple Firewall sous Linux"},"html":"<h1>UFW</h1>\n<p>Un firewall (pare-feu) permet de bloquer les tentatives d'accès à des combinaisons de ports/protocoles que nous définissons. Par exemple, il est possible d'autoriser les connexions ssh uniquement depuis certaines adresses IP. UFW a été conçu pour simplifier la mise en place d'un Firewall iptables sous Linux, qui est relativement complexe a configurer... C'est donc une interface simple a utiliser, qui va créer les règles iptables sous-jacentes.</p>\n<h2>Installation</h2>\n<p>L'installation se fait par un simple <code class=\"language-text\">sudo sh -c \"apt update &amp;&amp; apt install ufw -y\"</code>. Le firewall est installé mais désactivé suite à l'installation, ce qui nous laisse le temps de le configurer avant de l'activer (et de se retrouver bloquer si on ne fait pas attention à débloquer le ssh ? )</p>\n<p>Par défaut les règles suivantes sont implémentées, bloquant les flux entrant et autorisant tout les flux sortant (de notre machine):</p>\n<p>ufw default deny incoming</p>\n<p>ufw default allow outgoing</p>\n<p>Pour visualiser l'état du Firewall à tout moment, il suffit d'utiliser : ufw status verbose</p>\n<h2>Les commandes de base</h2>\n<p># lister les règles en place\nufw status verbose</p>\n<h1>autoriser un protocole en spécifiant son nom</h1>\n<p>ufw allow ssh\nufw allow in 22/tcp</p>\n<h1>supprimer une règle</h1>\n<p>ufw delete allow in 22/tcp</p>\n<h1>pour autoriser une adresse IP</h1>\n<p>ufw allow from 192.168.0.1</p>\n<h1>pour autoriser une plage de Ports</h1>\n<p>ufw allow out 6880:6999/tcp</p>\n<p>ufw status numbered\nufw delete &#x3C;numéro-de-la-règle</p>\n<h2>Journalisation</h2>\n<p>Il est bien entendu possible de logger l'activité de notre Firewall dans des fichiers (se trouveront par défaut dans /var/log/ufw.log) ou dans un rsyslog:</p>\n<p># activer a journalisation les fichiers de log\nufw logging on</p>\n<h1>ou encore en spécifiant le niveau de logs</h1>\n<p>ufw logging low|medium|high</p>\n<h2>Controle du Firewall</h2>\n<p>systemctl status ufw</p>\n<h1>activer/désactiver le firewall</h1>\n<p>ufw enable\nufw disable</p>\n<p>#pour recharger la configuration qui vient d’être modifiée\nufw reload</p>\n<h1>pour un reset complet des règles</h1>\n<p>ufw reset</p>\n<h2>Liens</h2>\n<ul>\n<li>la <a href=\"https://doc.ubuntu-fr.org/ufw\">doc Ubuntu de UFW</a></li>\n<li>article sur les <a href=\"https://doc.ubuntu-fr.org/ufw\">Firewall nouvelles génération</a></li>\n<li>config avec <a href=\"https://zaiste.net/intro_fail2ban_with_ufw/\">UFW et  Fail2ban</a></li>\n</ul>"}},
    "staticQueryHashes": ["1026020893","1333896537","28434099"]}