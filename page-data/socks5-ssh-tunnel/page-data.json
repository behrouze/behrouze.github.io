{"componentChunkName":"component---src-templates-wp-post-tsx","path":"/socks5-ssh-tunnel","result":{"pageContext":{"id":"55690f62-9d28-5536-ac3e-dcb76d6975fd","fileAbsolutePath":"/home/behrouze/Sources/blog/obsidian/Blog/socks5-ssh-tunnel.md","frontmatter":{"categories":["linux"],"date":"2018-06-14","lastUpdate":null,"tags":["linux","ssh"],"title":"Tunnel SOCKS5 par SSH"},"html":"<h2>Protocole et utilité</h2>\n<p><a href=\"https://fr.wikipedia.org/wiki/SOCKS\">SOCKS5</a> (<a href=\"https://nnc3.com/mags/LM10/Magazine/Archive/2005/56/062-065_socks/article.html\">détail du protocole</a>) est un protocole réseau qui permet à une <strong>application authentifiée</strong> (comme un navigateur web, mais pas uniquement) de rebondir sur un <strong>proxy SOCKS</strong> pour par exemple cacher son adresse IP, ou accéder à des resources du web filtrées pour son adresse IP source.</p>\n<p>Pour exploiter ce protocole, il est possible d’utiliser:</p>\n<ul>\n<li>un <strong>serveur SOCKS dédié</strong> tel que <a href=\"http://www.inet.no/dante/\">Dante</a>, <a href=\"http://ss5.sourceforge.net/\">SS5</a>, <a href=\"http://www.delegate.org/\">Delegate</a> ou <a href=\"http://socks-relay.sourceforge.net/\">Srelay</a></li>\n<li>mais <strong>plus simplement</strong> il suffit d'utiliser un serveur <a href=\"http://www.catonmat.net/blog/linux-socks5-proxy/\">SSH sous Linux</a> tel qu'OpenSSH qui <a href=\"http://man.openbsd.org/ssh_config#DynamicForward\">supporte SOCKS</a> depuis des années et qui présente l'avantage de créer un tunnel (<a href=\"https://www.howtogeek.com/168145/how-to-use-ssh-tunneling/\">1</a> <a href=\"https://blog.trackets.com/2014/05/17/ssh-tunnel-local-and-remote-port-forwarding-explained-with-examples.html?utm_source=cronweekly.com\">2</a>) crypté ce qui anonymise le flux entre votre client SSH et le serveur SOCKS (serveur SSH)</li>\n</ul>\n<p>Cela représente une très bonne <a href=\"https://quick-tutoriel.com/une-alternative-au-vpn-le-proxy-socks5/\">alternative</a> à la mise en place d'un VPN (qui va nous transférer sur le réseau cible) si votre seul objectif est de naviguer sur le web.</p>\n<h2>Procédure</h2>\n<ol>\n<li>Ouvrir un <strong>tunnel SSH</strong> en <strong>Dynamic Port Forwarding</strong> (option dans la  section Tunnels de Putty) en spécifiant un port à utiliser en local</li>\n<li>Utiliser ce port dans le navigateur (ou l'application cliente)</li>\n</ol>\n<h2>Clients</h2>\n<h3>Firefox</h3>\n<p>Dans les options, renseigner <strong>localhost</strong> ainsi que <strong>le port</strong> définit pour le tunnel ssh dans Configuration manuelle du proxy, champs Hôte SOCKS</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; box-shadow: 3px 5px 4px rgba(0,0,0,.1);margin:1rem;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a472eabc69c09401300a2e79814c180d/709cb/2018-06-14-14_57_30-Options.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95.30516431924883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC40lEQVQ4y2WSa0/bSBSG84ORWm3TxpeQpP20ohs7gVLsmLb7eUXpaqmS7P4UVqUEgjMex7e5ejz2uIqBAumjI4010nvO+H1P6xLESxgla8gIjwOYri6SGN74YLHyGaE5ThnBhHJKmRACIwxhyCmhBN/4q5b1/sO+4/3pHY2G4/2h9cdo+NYe2+OD30ejd6P9Q3tv37bs0di2bcuy3+7tWUPrYDw6Onznecet39qddrvzsqOfnp7O//1vNp3PZ/PZbH529vWvk88np3+ffP4ynU5ns/l02pyz+T9nX3u9wYsX7VbH7D9v62a3H4ZhXddKqfoepZSqqq2buq6LorBtW9eN1itj9/mzZ7puXF1dh2EUQBjHSRTFcZLESRonaZKmuRBFgxBCSkkpHQ4tTTNaLzVzZ2dH142V7ydJCgKYZSjLUJKmSZalm0KUsbIspZRFUZRlyRhrxHqrY+5qmt7t7i5vfIwpDNcQhjBcr6OYMlbcIxu2xZrZ63a7g8Fg6a8wpQEMEcKEEM7zqtyGNe0oY5b1U2x2+/1BAIBSilLG8xwTignJMoQQzhDGhNyLuWxaWMOnYgCAlDIMo5yQUoiqYWsyQphhTAm2LHtbLIRIkzS4uADfvuE4QQEoOC9/tqgqAkB2fo6XS8v+Rcw5j5qIKCIojLIVEJTKxuc7KJWUsizbGKYbv0xOU8Z5/QilHqpqloTn+V3Oj8WYkNsNWd/WOmKMl48ny0JVFX8SVSNeAdA4yRnPOc95njPOi6KoqvLWOSllngtCKKV0Oyr/xqeYJBDGIEhhGIMgi2LUBJUhxDkvSynEZkOfRGWa5uD1m+vz/6Pvl8HlAi4W4dU1XFwFF9/jy4XIN9zulpRSKcU5f3i2YZi9Xh8GQV3XlZSqLB+qqlSthJCikJSxPBeb/2L8LueOsat1NE3TDw4OP3765E48x3Edd+K4E9edbL4d15kcO95H7/iD5x0fHTmuOxkMXptm9wfAtZhKlxeiRQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a472eabc69c09401300a2e79814c180d/bc663/2018-06-14-14_57_30-Options.webp 213w,\n/static/a472eabc69c09401300a2e79814c180d/8dc4f/2018-06-14-14_57_30-Options.webp 425w,\n/static/a472eabc69c09401300a2e79814c180d/10237/2018-06-14-14_57_30-Options.webp 850w,\n/static/a472eabc69c09401300a2e79814c180d/43c62/2018-06-14-14_57_30-Options.webp 1034w\"\n              sizes=\"(max-width: 850px) 100vw, 850px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a472eabc69c09401300a2e79814c180d/3cb16/2018-06-14-14_57_30-Options.png 213w,\n/static/a472eabc69c09401300a2e79814c180d/2fbbf/2018-06-14-14_57_30-Options.png 425w,\n/static/a472eabc69c09401300a2e79814c180d/ae694/2018-06-14-14_57_30-Options.png 850w,\n/static/a472eabc69c09401300a2e79814c180d/709cb/2018-06-14-14_57_30-Options.png 1034w\"\n            sizes=\"(max-width: 850px) 100vw, 850px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a472eabc69c09401300a2e79814c180d/ae694/2018-06-14-14_57_30-Options.png\"\n            alt=\"2018 06 14 14 57 30 Options\"\n            title=\"2018 06 14 14 57 30 Options\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>Chrome</h3>\n<p>Utiliser l'<a href=\"https://chrome.google.com/webstore/detail/proxy-helper/mnloefcpaepkpmhaoipjkpikbnkmbnic\">extension Proxy Helper</a> ou lancer chrome avec l'argument proxy-server</p>\n<p>\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\" --proxy-server=\"socks5://127.0.0.1:1337\"</p>"}},"staticQueryHashes":["1026020893","2750442709","28434099"]}