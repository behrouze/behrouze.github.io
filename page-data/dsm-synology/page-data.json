{
    "componentChunkName": "component---src-templates-wp-post-tsx",
    "path": "/dsm-synology",
    "result": {"pageContext":{"id":"bd87b9cf-d986-5714-91d9-e6935b5ca425","fileAbsolutePath":"/Users/behrouze/Sources/gatsby-blog/obsidian/Blog/dsm-synology.md","frontmatter":{"categories":["devops"],"date":"2019-11-02","lastUpdate":null,"tags":["dsm","synology","linux"],"title":"DSM Synology"},"html":"<h2>Gestion des services</h2>\nSynology a doté ses NAS d’un OS Linux (sous jacent au DSM qui est son système d'exploitation Web) avec des outils d’administration en CLI disponible en <a href=\"/ssh-tips-tricks\" title=\"ssh\">ssh</a>. :\n<ul>\n<li><code class=\"language-text\">synoservicectl</code></li>\n<li><code class=\"language-text\">synoservicecfg</code></li>\n</ul>\n<h3>synoservicectl</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">SynoService Tool Help <span class=\"token punctuation\">(</span>Version <span class=\"token number\">24922</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\nUsage: synoservice<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--help Show this help<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--help-dev More specialty functions <span class=\"token keyword\">for</span> deveplopment<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--is-enabled <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Check <span class=\"token keyword\">if</span> the <span class=\"token function\">service</span> is enabled<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--status <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Get the status of specified services<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--enable <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Set runkey to <span class=\"token function\">yes</span> and start the <span class=\"token function\">service</span> <span class=\"token punctuation\">(</span>alias to --start<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--disable <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Set runkey to no and stop the <span class=\"token function\">service</span> <span class=\"token punctuation\">(</span>alias to --stop<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--hard-enable <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Set runkey to <span class=\"token function\">yes</span> and start the <span class=\"token function\">service</span> and its dependency <span class=\"token punctuation\">(</span>alias to --hard-start<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--hard-disable <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Set runkey to no and stop the <span class=\"token function\">service</span> and its dependency <span class=\"token punctuation\">(</span>alias to --hard-stop<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--restart <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Restart the given service<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--reload <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Reload the given service<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--pause <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Pause the given service<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--resume <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> Resume the given service<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--pause-by-reason <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>Reason<span class=\"token punctuation\">]</span> Pause the <span class=\"token function\">service</span> by given reason<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--resume-by-reason <span class=\"token punctuation\">[</span>ServiceName<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>Reason<span class=\"token punctuation\">]</span> Resume the <span class=\"token function\">service</span> by given reason<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--pause-all <span class=\"token punctuation\">(</span>-p<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>a <span class=\"token assign-left variable\">href</span><span class=\"token operator\">=</span><span class=\"token string\">\"Event\"</span><span class=\"token operator\">></span>Reason<span class=\"token operator\">&lt;</span>/a<span class=\"token operator\">></span> Pause all <span class=\"token function\">service</span> by given reason with optional event<span class=\"token punctuation\">(</span>use -p to include packages<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--pause-all-no-action <span class=\"token punctuation\">(</span>-p<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>a <span class=\"token assign-left variable\">href</span><span class=\"token operator\">=</span><span class=\"token string\">\"Event\"</span><span class=\"token operator\">></span>Reason<span class=\"token operator\">&lt;</span>/a<span class=\"token operator\">></span> Set all <span class=\"token function\">service</span> runkey to no but leave the current <span class=\"token function\">service</span> status<span class=\"token punctuation\">(</span>use -p to include packages<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--resume-all <span class=\"token punctuation\">(</span>-p<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>Reason<span class=\"token punctuation\">]</span> Resume all <span class=\"token function\">service</span> by given reason<span class=\"token punctuation\">(</span>use -p to include packages<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--reload-by-type <span class=\"token operator\">&lt;</span>a <span class=\"token assign-left variable\">href</span><span class=\"token operator\">=</span><span class=\"token string\">\"buffer\"</span><span class=\"token operator\">></span>type<span class=\"token operator\">&lt;</span>/a<span class=\"token operator\">></span> Reload services with specified type<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--restart-by-type <span class=\"token operator\">&lt;</span>a <span class=\"token assign-left variable\">href</span><span class=\"token operator\">=</span><span class=\"token string\">\"buffer\"</span><span class=\"token operator\">></span>type<span class=\"token operator\">&lt;</span>/a<span class=\"token operator\">></span> Restart services with specified type<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\nType may be <span class=\"token punctuation\">{</span>file_protocol<span class=\"token operator\">|</span>application<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\nSleep <span class=\"token variable\">$buffer</span> seconds before <span class=\"token builtin class-name\">exec</span> the <span class=\"token builtin class-name\">command</span> <span class=\"token punctuation\">(</span>default is <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>synoservicecfg</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">SynoService Control Tool Help <span class=\"token punctuation\">(</span>Version <span class=\"token number\">24922</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\nUsage: synoservicectl<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--help Show This Help<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--start Start service.<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--stop Stop service.<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--restart Restart service.<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--reload Send HUP signal to service<span class=\"token punctuation\">..</span><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--status Query status of service.<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--push-arg JobName arg1 arg2 …<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\nPush arguments to specific job.<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\n--dump-arg JobName<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span>\nDump arguments of the given job.</code></pre></div>\n<h2>Désinstaller Universal Search</h2>\n<p>L’outil <strong>universal Search</strong> présent dans les NAS DSM de Synology peut être <em>utile si on utilise l’interface de son NAS</em> pour naviguer dans ses fichiers sauvegardés, sinon c’est un <strong>service</strong> qui <strong>consomme inutilement les ressources limités du NAS</strong>, d’où l’utilité de le <strong>désinstaller</strong>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.375586854460096%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVQoz42QS2sUQRRG+7e48kf4E8TIKC5cRXEx4guCCx8ZJkLQ+Ni6dCXiRnQCBkEwqCDENwnCRBeGSQxjOz1Dd3VXdVV1VR2Z7sG1tSguXL5zz73RgYOHuLTQ4ez5q1xc6HL5yjLXu7dZvHGXztIdFru3uLZ0j831h7D3FLPzBLPbw+4/xw1fYHdXKXd66K8r+I8XiFonzvC/zwFmVpcVJKIiU4GJBtF/hn/bJjp8dJ5CaUbjFFlqbOUYxiPiPwmpKBB5gTEW7xxVZYlzhVSSTORIKbFGo12g+LGOe71CdKQ1z0hoBnFKUjjyqUIlsUoilcYYQwgBCFQ+IKRBlQpt7Mw11L/8tUX16RHR3LFTzQqlJnhf13Zvm/0P24wLTSYEzjehwnj6g5gsHSNyWcNC8DVSDjYpXz2YAk83c0KYmYDRDp1r0kmGFgVhajltzAZOT1OocpZrgFn/PXHvPtFcqwF672lEPN++J7z8kqBlRiYKKqXAWhLvefx5i9HvEblUWGupbLP6z403rN7sEB0/2f4HDDPTKpeUE0GmLG56KymhcpgQGKYpWVGijKtP5Jyr8+/W1lhun+Mv2q9GIsPzKwQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DSM Universal Search\"\n        title=\"DSM Universal Search\"\n        src=\"/static/e4d8e780a5c84b2b04d6fdedc242bd36/ae694/DSM_Universal_Search.png\"\n        srcset=\"/static/e4d8e780a5c84b2b04d6fdedc242bd36/3cb16/DSM_Universal_Search.png 213w,\n/static/e4d8e780a5c84b2b04d6fdedc242bd36/2fbbf/DSM_Universal_Search.png 425w,\n/static/e4d8e780a5c84b2b04d6fdedc242bd36/ae694/DSM_Universal_Search.png 850w,\n/static/e4d8e780a5c84b2b04d6fdedc242bd36/8802b/DSM_Universal_Search.png 1135w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Pour cela se connecter en <code class=\"language-text\">ssh</code> à son DSM puis :</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> -i <span class=\"token comment\"># passer root</span>\nsynoservicecfg --disable pkgctl-SynoFinder <span class=\"token comment\"># désactiver le service</span>\n\n<span class=\"token comment\"># résultat de la commande précédente: warn: The runkey of service [pkgctl-SynoFinder] has been set to \"No\"</span>\n\nsynopkg uninstall SynoFinder <span class=\"token comment\"># désinstaller le service</span></code></pre></div>"}},
    "staticQueryHashes": ["1026020893","1333896537","28434099"]}