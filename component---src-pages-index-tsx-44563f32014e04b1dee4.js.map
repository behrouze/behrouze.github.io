{"version":3,"file":"component---src-pages-index-tsx-44563f32014e04b1dee4.js","mappings":"oLAAA,IAAMA,EAAAA,SAAa,UAAwC,IAAzBC,IAAAA,GAAe,GAC/C,IAMMC,EAAY,IAAIC,KAAKC,GAAMC,mBAAmB,QANR,CAC1CC,KAD0C,UAE1CC,MAF0C,UAG1CC,IAHF,YAOA,OAAOP,EAAY,yBAAnB,GAGIQ,EAAAA,SAAiB,YACrBC,GAAc,IAAIP,KAAKQ,GAAgB,IAAIR,KADtB,K,kICDVS,EAAAA,SAA0B,GAAGC,IAAAA,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,KACpD,SAGE,qBAAYC,QAAZ,KAAyBC,GAAI,CAAEC,SAA/B,UAAqDC,MAAOC,EAAAA,EAAAA,OACtDN,EAAU,YADhB,aADF,GAFkB,M,mBC2GpB,EAjGkB,SAAC,GAMA,IAJMO,EAIN,EALjBC,KACEC,kBAAqBF,MAKvB,GAAgCG,EAAAA,EAAAA,UAAhC,IAAOC,EAAP,KAAiBC,EAAjB,KACA,GAA0CF,EAAAA,EAAAA,UAA1C,IAAOG,EAAP,KAAsBC,EAAtB,KAaA,OATAC,EAAAA,EAAAA,YAAU,WACR,oBAAWC,SACTJ,EAAY,IAAIK,IAAID,OAAAA,SAAR,uBAAZJ,QACAE,EACE,IAAIG,IAAID,OAAAA,SAAR,uBADFF,iBAOF,qBAAQI,UAAR,sBAAwCC,QAAxC,EAAsDC,cAAc,GAClE,mBAAapB,aAAb,EAA0CC,KAAMU,IAE/CJ,EAAA,KAAU,YACT,MAAsDc,EAAtD,YAAQC,EAAR,aAAoBC,EAApB,OAA0BC,EAA1B,QAAiCjC,EAAjC,OAAuCkC,EAAvC,aACA,MAAY,OAAO,KAEnB,IAAMC,GAAgB9B,EAAAA,EAAAA,GAAeL,EAAfK,IAClBT,EAAAA,EAAAA,GAAWsC,GADO7B,IAElBT,EAAAA,EAAAA,GAFJ,GAIMwC,IAAa,KAAnB,EACMC,EAAiBN,MAAAA,OAAH,EAAGA,EAAAA,SAAvB,GACMO,EAAWN,MAAAA,OAAH,EAAGA,EAAAA,SAAjB,GAEA,IAAKI,GAAeA,IAAeC,GAAnC,GAAiE,CAC/D,IAAM3B,GAAO6B,EAAAA,EAAAA,GAAeT,EAA5B,kBACA,OACE,uBAAKU,IAAL,EAAgBC,MAAO,CAAEC,OAAQ,iBAC/B,qBACEC,UADF,OAEEC,GAFF,EAGEC,UAHF,OAIEjC,GAAI,CAAEkC,QAAF,SAAqBJ,OAAQ,gBACjCK,wBAAyB,CAAEC,OAAQf,KAErC,wBACEQ,MAAO,CACL3B,MAAOC,EAAAA,EAAAA,KACPF,SAFK,SAGL6B,OAAQ,iBAbhB","sources":["webpack://behrouze-tech-blog/./src/libs/dateHelper.ts","webpack://behrouze-tech-blog/./src/components/TitleFilter.tsx","webpack://behrouze-tech-blog/./src/pages/index.tsx"],"sourcesContent":["const formatDate = (date: string, isUpdateDate = false) => {\n  const options: Intl.DateTimeFormatOptions = {\n    year: \"2-digit\",\n    month: \"numeric\",\n    day: \"numeric\",\n  };\n\n  const formatted = new Date(date).toLocaleDateString(\"fr-FR\", options);\n  return isUpdateDate ? `maj le ${formatted}` : `rédigé le ${formatted}`;\n};\n\nconst hasBeenUpdated = (creationDate: string, editedDate: string) =>\n  editedDate && new Date(creationDate) < new Date(editedDate);\n\nexport { formatDate, hasBeenUpdated };\n","import * as React from \"react\";\nimport { FC } from \"react\";\nimport { Typography } from \"@mui/material\";\nimport { blueGrey } from \"@mui/material/colors\";\n\ninterface IProps {\n  isCategory: boolean;\n  slug: string;\n}\n\nexport const TitleFilter: FC<IProps> = ({ isCategory, slug }) => {\n  if (!slug) return null;\n\n  return (\n    <Typography variant=\"h2\" sx={{ fontSize: \"1.5rem\" }} color={blueGrey[500]}>\n      {`${isCategory ? \"Catégorie\" : \"Tag\"} : ${slug}`}\n    </Typography>\n  );\n};\n","import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { graphql, Link } from \"gatsby\";\nimport { Link as MuiLink, Pagination, Stack } from \"@mui/material\";\nimport { blueGrey } from \"@mui/material/colors\";\nimport { Layout } from \"components/Layout\";\nimport { TitleFilter } from \"components/TitleFilter\";\nimport { slugFromMdPath } from \"libs/stringHelper\";\nimport { formatDate, hasBeenUpdated } from \"libs/dateHelper\";\n\ninterface nodeType {\n  frontmatter: {\n    categories: Array<string>;\n    tags: Array<string>;\n    title: any;\n    date: string;\n    lastUpdate: string;\n  };\n  fileAbsolutePath: string;\n}\n\nconst IndexPage = ({\n  data: {\n    allMarkdownRemark: { nodes },\n  },\n}: {\n  data: { allMarkdownRemark: { nodes: Array<nodeType> } };\n}): JSX.Element => {\n  const [queryTag, setQueryTag] = useState<string>(\"\");\n  const [queryCategory, setQueryCategory] = useState<string>(\"\");\n\n  const onPageChange = (event, pageNumber) => console.log(event, pageNumber);\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      setQueryTag(new URL(window.location.href).searchParams.get(\"tag\"));\n      setQueryCategory(\n        new URL(window.location.href).searchParams.get(\"category\")\n      );\n    }\n  });\n\n  return (\n    <Layout pageTitle=\"Full Stack & Devops\" hasNav={true} isSmallTitle={false}>\n      <TitleFilter isCategory={!!queryCategory} slug={queryTag} />\n\n      {nodes.map((node) => {\n        const { categories, tags, title, date, lastUpdate } = node.frontmatter;\n        if (!title) return null;\n\n        const dateToDisplay = hasBeenUpdated(date, lastUpdate)\n          ? formatDate(lastUpdate, true)\n          : formatDate(date);\n\n        const isFiltered = !!queryCategory || !!queryTag;\n        const nodeCategories = categories?.includes(queryCategory);\n        const nodeTags = tags?.includes(queryTag);\n\n        if (!isFiltered || (isFiltered && (nodeCategories || nodeTags))) {\n          const slug = slugFromMdPath(node.fileAbsolutePath);\n          return (\n            <div key={slug} style={{ margin: \"0.7rem 0 0 0\" }}>\n              <MuiLink\n                component={Link}\n                to={slug}\n                underline=\"none\"\n                sx={{ display: \"inline\", margin: \"0 0.3rem 0 0\" }}\n                dangerouslySetInnerHTML={{ __html: title }}\n              />\n              <span\n                style={{\n                  color: blueGrey[\"300\"],\n                  fontSize: \"0.7rem\",\n                  margin: \"0 0 0 0.2rem\",\n                }}\n              >\n                {dateToDisplay}\n              </span>\n            </div>\n          );\n        }\n      })}\n\n      {/* <Stack spacing={22}>\n        <Pagination\n          page={0}\n          count={10}\n          variant=\"outlined\"\n          color=\"secondary\"\n          onChange={onPageChange}\n          sx={{ margin: \"2rem 0\" }}\n        />\n      </Stack> */}\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  {\n    allMarkdownRemark(\n      sort: { fields: frontmatter___date, order: DESC }\n      filter: { frontmatter: { categories: { ne: null } } }\n    ) {\n      nodes {\n        frontmatter {\n          title\n          categories\n          tags\n          date\n          lastUpdate\n        }\n        id\n        fileAbsolutePath\n      }\n    }\n  }\n`;\n\nexport default IndexPage;\n"],"names":["formatDate","isUpdateDate","formatted","Date","date","toLocaleDateString","year","month","day","hasBeenUpdated","editedDate","creationDate","TitleFilter","isCategory","slug","variant","sx","fontSize","color","blueGrey","nodes","data","allMarkdownRemark","useState","queryTag","setQueryTag","queryCategory","setQueryCategory","useEffect","window","URL","pageTitle","hasNav","isSmallTitle","node","categories","tags","title","lastUpdate","dateToDisplay","isFiltered","nodeCategories","nodeTags","slugFromMdPath","key","style","margin","component","to","underline","display","dangerouslySetInnerHTML","__html"],"sourceRoot":""}