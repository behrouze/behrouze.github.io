{"version":3,"file":"component---src-pages-index-tsx-d91910a2bcaba35dbae5.js","mappings":"yOAUaA,EAA0B,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,KACpD,OAAKA,EAGH,gBAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,GAAI,CAAEC,SAAU,UAAYC,MAAOC,EAAAA,EAAAA,OACtDP,EAAa,YAAc,OADjC,MAC4CC,GAJ5B,M,UC2EpB,EArEkB,SAAC,GAMC,IAJKO,EAIN,EALjBC,KACEC,kBAAqBF,MAKvB,GAAgCG,EAAAA,EAAAA,UAAiB,IAA1CC,EAAP,KAAiBC,EAAjB,KACA,GAA0CF,EAAAA,EAAAA,UAAiB,IAApDG,EAAP,KAAsBC,EAAtB,KAWA,OATAC,EAAAA,EAAAA,YAAU,WACc,oBAAXC,SACTJ,EAAY,IAAIK,IAAID,OAAOE,SAASC,MAAMC,aAAaC,IAAI,QAC3DP,EACE,IAAIG,IAAID,OAAOE,SAASC,MAAMC,aAAaC,IAAI,iBAMnD,gBAACC,EAAA,EAAD,KACE,gBAACxB,EAAD,CAAaC,aAAcc,EAAeb,KAAMW,IAE/CJ,EAAMgB,KAAI,SAACC,GACV,MAAoCA,EAAKC,YAAjCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,KAAMC,EAA1B,EAA0BA,MAC1B,IAAKA,EAAO,OAAO,KAEnB,IAAMC,IAAehB,KAAmBF,EAClCmB,EAAiBJ,MAAAA,OAAH,EAAGA,EAAYK,SAASlB,GACtCmB,EAAWL,MAAAA,OAAH,EAAGA,EAAMI,SAASpB,GAEhC,IAAKkB,GAAeA,IAAeC,GAAkBE,GAAY,CAC/D,IAAMhC,GAAOiC,EAAAA,EAAAA,GAAeT,EAAKU,kBACjC,OACE,gBAAC,IAAD,CACEC,IAAKnC,EACLoC,UAAWC,EAAAA,KACXC,GAAItC,EACJuC,UAAU,OACVC,MAAO,CAAEC,QAAS,QAASC,OAAQ,YACnCC,wBAAyB,CAAEC,OAAQhB","sources":["webpack://behrouze-tech-blog/./src/components/TitleFilter.tsx","webpack://behrouze-tech-blog/./src/pages/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { FC } from \"react\";\nimport { Typography } from \"@mui/material\";\nimport { blueGrey } from \"@mui/material/colors\";\n\ninterface IProps {\n  isCategory: boolean;\n  slug: string;\n}\n\nexport const TitleFilter: FC<IProps> = ({ isCategory, slug }) => {\n  if (!slug) return null;\n\n  return (\n    <Typography variant=\"h2\" sx={{ fontSize: \"1.5rem\" }} color={blueGrey[500]}>\n      {`${isCategory ? \"Cat√©gorie\" : \"Tag\"} : ${slug}`}\n    </Typography>\n  );\n};\n","import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { graphql, Link } from \"gatsby\";\nimport { Link as MuiLink } from \"@mui/material\";\nimport { Layout } from \"components/Layout\";\nimport { TitleFilter } from \"components/TitleFilter\";\nimport { slugFromMdPath } from \"libs/stringHelper\";\n\ninterface nodeType {\n  frontmatter: {\n    categories: Array<string>;\n    tags: Array<string>;\n    title: any;\n  };\n  fileAbsolutePath: string;\n}\n\nconst IndexPage = ({\n  data: {\n    allMarkdownRemark: { nodes },\n  },\n}: {\n  data: { allMarkdownRemark: { nodes: Array<nodeType> } };\n}): JSX.Element => {\n  const [queryTag, setQueryTag] = useState<string>(\"\");\n  const [queryCategory, setQueryCategory] = useState<string>(\"\");\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      setQueryTag(new URL(window.location.href).searchParams.get(\"tag\"));\n      setQueryCategory(\n        new URL(window.location.href).searchParams.get(\"category\")\n      );\n    }\n  });\n\n  return (\n    <Layout>\n      <TitleFilter isCategory={!!queryCategory} slug={queryTag} />\n\n      {nodes.map((node) => {\n        const { categories, tags, title } = node.frontmatter;\n        if (!title) return null;\n\n        const isFiltered = !!queryCategory || !!queryTag;\n        const nodeCategories = categories?.includes(queryCategory);\n        const nodeTags = tags?.includes(queryTag);\n\n        if (!isFiltered || (isFiltered && (nodeCategories || nodeTags))) {\n          const slug = slugFromMdPath(node.fileAbsolutePath);\n          return (\n            <MuiLink\n              key={slug}\n              component={Link}\n              to={slug}\n              underline=\"none\"\n              style={{ display: \"block\", margin: \"0.5rem 0\" }}\n              dangerouslySetInnerHTML={{ __html: title }}\n            />\n          );\n        }\n      })}\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  {\n    allMarkdownRemark(\n      sort: { fields: frontmatter___date, order: DESC }\n      filter: { frontmatter: { categories: { ne: null } } }\n    ) {\n      nodes {\n        frontmatter {\n          title\n          categories\n          tags\n          date\n        }\n        id\n        fileAbsolutePath\n      }\n    }\n  }\n`;\n\nexport default IndexPage;\n"],"names":["TitleFilter","isCategory","slug","Typography","variant","sx","fontSize","color","blueGrey","nodes","data","allMarkdownRemark","useState","queryTag","setQueryTag","queryCategory","setQueryCategory","useEffect","window","URL","location","href","searchParams","get","Layout","map","node","frontmatter","categories","tags","title","isFiltered","nodeCategories","includes","nodeTags","slugFromMdPath","fileAbsolutePath","key","component","Link","to","underline","style","display","margin","dangerouslySetInnerHTML","__html"],"sourceRoot":""}