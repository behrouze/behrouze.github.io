<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="msvalidate.01" content="A50293F74A3B85CC8957428EEEEAABA5"/><meta data-react-helmet="true" name="google-site-verification" content="kkqrNKWAArklwdQl9I2c0KZhhbL8Q8p4fVsYQkC4d_A"/><meta data-react-helmet="true" name="description" content="Blog technique et m√©mo sur les technos .Net et Javascript React ainsi que l&#x27;outillage devops"/><meta data-react-helmet="true" charSet="utf-8"/><meta name="generator" content="Gatsby 4.5.3"/><style data-href="/styles.dd271522928fd686cc39.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:visible;padding:1px;position:relative}pre[class*=language-]>code{background-attachment:local;background-color:#fdfdfd;background-image:linear-gradient(transparent 50%,rgba(69,142,209,.04) 0);background-origin:content-box;background-size:3em 3em;border-left:10px solid #358ccb;box-shadow:-1px 0 0 0 #358ccb,0 0 0 1px #dfdfdf;position:relative;z-index:1}code[class*=language-]{display:block;height:inherit;max-height:inherit;overflow:auto;padding:0 1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdfdfd;box-sizing:border-box;margin-bottom:1em}:not(pre)>code[class*=language-]{border:1px solid rgba(0,0,0,.1);border-radius:.3em;color:#c92c2c;display:inline;padding:.2em;position:relative;white-space:normal}pre[class*=language-]:after,pre[class*=language-]:before{bottom:.75em;box-shadow:0 13px 8px #979797;content:"";display:block;height:20%;left:.18em;max-height:13em;position:absolute;-webkit-transform:rotate(-2deg);transform:rotate(-2deg);width:40%}pre[class*=language-]:after{left:auto;right:.75em;-webkit-transform:rotate(2deg);transform:rotate(2deg)}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7d8b99}.token.punctuation{color:#5f6364}.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.number,.token.property,.token.symbol,.token.tag{color:#c92c2c}.token.attr-name,.token.builtin,.token.char,.token.function,.token.inserted,.token.selector,.token.string{color:#2f9c0a}.token.entity,.token.operator,.token.url,.token.variable{background:hsla(0,0%,100%,.5);color:#a67f59}.token.atrule,.token.attr-value,.token.class-name,.token.keyword{color:#1990b8}.token.important,.token.regex{color:#e90}.language-css .token.string,.style .token.string{background:hsla(0,0%,100%,.5);color:#a67f59}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.7}@media screen and (max-width:767px){pre[class*=language-]:after,pre[class*=language-]:before{bottom:14px;box-shadow:none}}pre[class*=language-].line-numbers.line-numbers{padding-left:0}pre[class*=language-].line-numbers.line-numbers code{padding-left:3.8em}pre[class*=language-].line-numbers.line-numbers .line-numbers-rows{left:0}pre[class*=language-][data-line]{padding-bottom:0;padding-left:0;padding-top:0}pre[data-line] code{padding-left:4em;position:relative}pre .line-highlight{margin-top:0}h1{-webkit-text-fill-color:transparent;background:linear-gradient(90deg,#2779bd 0,#041955);-webkit-background-clip:text;font-family:sans-serif;font-size:2rem;font-weight:300;margin-top:3rem;text-transform:none}h1.small{font-size:1.5rem}h1.website{background:linear-gradient(90deg,#30cfd0 0,#330867);-webkit-background-clip:text;text-transform:uppercase;transition:font-size .3s}h1.post-title,h1.website{-webkit-text-fill-color:transparent}h1.post-title{background:linear-gradient(90deg,#1db2df 0,#330867);-webkit-background-clip:text;font-weight:600;text-align:center}h1.posts::selection,h2::selection,h3::selection,h4::selection{background-color:#30cfd0}h2,h3,h4,h5{margin-bottom:.3rem;margin-top:2.5rem}pre{background-color:#f5f6f8;overflow-x:scroll;padding:.3rem}blockquote{background-color:#f0f8ff;border-radius:5px;box-shadow:0 4px 12px rgba(0,0,0,.1);padding:.3rem 1rem}a{color:#1636b3}a:visited{color:#0f5a70}a::selection{background-color:#fcbe13}::selection{background-color:#fcf113}ul.nav-links{display:flex;justify-content:space-between;list-style:none;padding-left:0}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">Linux systemd</title><link data-react-helmet="true" rel="canonical" href="https://blog.behrouze.com"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=0ae59160d37d7dfca9356a20890d5111" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=0ae59160d37d7dfca9356a20890d5111"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script data-gatsby="web-vitals-polyfill">
            !function(){var e,t,n,i,r={passive:!0,capture:!0},a=new Date,o=function(){i=[],t=-1,e=null,f(addEventListener)},c=function(i,r){e||(e=r,t=i,n=new Date,f(removeEventListener),u())},u=function(){if(t>=0&&t<n-a){var r={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t};i.forEach((function(e){e(r)})),i=[]}},s=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){c(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,r),removeEventListener("pointercancel",i,r)};addEventListener("pointerup",n,r),addEventListener("pointercancel",i,r)}(t,e):c(t,e)}},f=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,s,r)}))},p="hidden"===document.visibilityState?0:1/0;addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(p=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0);o(),self.webVitals={firstInputPolyfill:function(e){i.push(e),u()},resetFirstInputPolyfill:o,get firstHiddenTime(){return p}}}();
          </script><link as="script" rel="preload" href="/webpack-runtime-0cfa4ca04d792ac096ab.js"/><link as="script" rel="preload" href="/framework-9885544f92f45c4490b7.js"/><link as="script" rel="preload" href="/app-c7b1d006b53087ecd6d5.js"/><link as="script" rel="preload" href="/commons-30350ba6450927006b33.js"/><link as="script" rel="preload" href="/bd9a198b5f7fb6fa7f93111e3cc9693331ac2819-1d72f15a660aac9e0b11.js"/><link as="script" rel="preload" href="/component---src-templates-wp-post-tsx-9a83c07f1892a60f7dd4.js"/><link as="fetch" rel="preload" href="/page-data/linux-systemd/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1026020893.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/28434099.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3153813225.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="css 1c0cfyw">.css-1c0cfyw{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.css-1c0cfyw{padding-left:24px;padding-right:24px;}}@media (min-width:900px){.css-1c0cfyw{max-width:900px;}}</style><div class="MuiContainer-root MuiContainer-maxWidthMd css-1c0cfyw"><a style="text-decoration:none" href="/"><style data-emotion="css 1a8topb">.css-1a8topb{margin:0;font-size:2rem;margin-top:2rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:300;line-height:1.167;letter-spacing:-0.01562em;margin-bottom:0.35em;}</style><h1 class="MuiTypography-root MuiTypography-h1 MuiTypography-gutterBottom small website css-1a8topb">D√©veloppeur FullStack &amp; Devops</h1><style data-emotion="css 1f19pnt">.css-1f19pnt{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.75;letter-spacing:0.00938em;margin-bottom:0.35em;color:rgba(0, 0, 0, 0.6);}</style><h6 class="MuiTypography-root MuiTypography-subtitle1 MuiTypography-gutterBottom css-1f19pnt">Notes et m√©mos techniques</h6></a><main><style data-emotion="css 1p12kdk">.css-1p12kdk{margin:0;font-size:2rem;margin-top:2rem;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:300;line-height:1.167;letter-spacing:-0.01562em;}</style><h1 class="MuiTypography-root MuiTypography-h1 post-title css-1p12kdk">Linux systemd</h1><div><h1>Systemd, les services syst√®mes sous Linux</h1>
<p><a href="https://freedesktop.org/wiki/Software/systemd/">Systemd</a> successeur de System V, fourni un <em>syst√®me/service manager</em> qui est lanc√© avec le <code class="language-text">PID 1</code> (l'init daemon) et d√©marre le reste du syst√®me.
Systemd fourni √©galement un nombre impressionnant d‚Äôoutils (avec ses <a href="https://www.reddit.com/r/linux/comments/bsqar4/you_probably_hate_systemd_because_you_think_its/?utm_medium=android_app&#x26;utm_source=share">pros</a> &#x26; cons), ce n'est donc pas uniquement un init system, mais bien un gestionnaire avec un ensemble de services. Il est le <a href="https://wiki.debian.org/fr/systemd#Introduction">sys√®me d'init par d√©faut dans Debian</a> depuis Jessie (Debian 8).</p>
<blockquote>
<p><strong>Systemd</strong> est un gestionnaire de syst√®mes et de services pour les syst√®mes d'exploitation Linux. Il est con√ßu pour √™tre r√©tro-compatible avec les scripts SysV init, et fournit un certain nombre de fonctionnalit√©s, comme le lancement en parall√®le des services syst√®me pendant l'initialisation, l'activation des d√©mons √† la demande, la prise en charge des instantan√©s d'√©tat du syst√®me, ou la logique de contr√¥le de service bas√©e sur d√©pendances.</p>
</blockquote>
<p>- <a href="https://access.redhat.com/documentation/fr-fr/red_hat_enterprise_linux/7/html/system_administrators_guide/chap-managing_services_with_systemd">RedHat</a></p>
<blockquote>
<p>systemd is a system and service manager for Linux operating systems. When run as first process on boot (as PID 1), it acts as init system that brings up and maintains userspace services. Separate instances are started for logged-in users to start their services.</p>
</blockquote>
<p>- man systemd</p>
<h2>Les commandes de gestion principales</h2>
<p>Les commandes suivantes permettent de gerer les diff√©rents composants de systemd :</p>
<ul>
<li><code class="language-text">systemctl</code>: permet d'envoyer des commandes a systemd (manager)</li>
<li><code class="language-text">journalctl</code>: journal centralis√© de systemd (et donc des services)</li>
<li><code class="language-text">timedatectl</code>: date/heure du serveur</li>
<li><code class="language-text">hostnamectl</code>: nom de la machine</li>
<li><code class="language-text">localectl</code>: configuration des locales et du clavier</li>
<li><code class="language-text">loginctl</code>: login manager</li>
</ul>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 850px; box-shadow: 3px 5px 4px rgba(0,0,0,.1);margin:1rem;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 62.441314553990615%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADt0lEQVQozzWO/1PadRzH3556tq7rp931Q3X1Q6tZ3qysxTY0W+5y0+nZqeCHj4wPKggOkIGCAYJ6k0kb2Jho6kAEQeUDHz6AsvQkt5xfSlyzL5/y2l/Q9Utdszp7v7p51/Pu+dvjHs8nyi848qInC0g6lAprxzfgmDoJiIj9Vt8fr1XdyvxJutZwnigCz7YkPlW7ksOd4xtQqGH/zWma//ucOXn8Lf0iKlLROej/5OUXHMvCoTCondiE11RxnE9Gf220RWtUtzJ/NDvvHjxFzsPRVtahdiZdT0bfUDP/5BPhx5Um5vi7OgYVq+ZyJJLrSKGYQOjocy+/4PsdUJtzOaHzZuEV5Twg4cx+dV/somZ8AwjXXcgTTMHTZOCGamTZ3endhtfVMShoCsFHRqboeasPVUqn8kjRci4lWc99cjJXpg2hDnrxpR7fveq2TlZRKg029NR2Fxt6/VJn/5K+kpppp+TTbwZvrLztHF6VC7Q0iQTeMx3PLCKh5GtECNyIFC0jqXQDoV7z8oBOF7M31EyYpIJZg6014tQ1BN02ZWJSWedz9Ylj03ZZdETdGPJY2xOj2ka/u5tiDJ7BTVJCeIeo5nmzWhFSSkjvkLwlakVdPV+AoScDjeItkCiz0KxYgwbqOxAr7wEhewCilk1oVnwFQukuiNtXoVm+DWL5g7+05vuPLrXfhzbN3mORjPlZptkGueZ7QGm7d9atucbSwq54gC+Mh8+SrJ8vYucqxInpUhEzWXc5E77QuhCqlMdZQsfO1qoT9Mdq+k69LBgoI5NBPkEzZ+sD/lIy6S8jw2itvwcsLZWwVFcLbNGrsMTnAftOMSyUFMOdMychVXMeVs6VQ/r904fNnK+AdDkf0vzTh1zkRCGkTpYAc6LwkEfrU6OwsbuFdR+U4xEeD8clEjz8YQUeLSvDbGsbvs3j4WRTEx6/WIOdJSU4IhZj53s8fLuqCocIAn926hSmKQqHq6pwSigE9NBfd7DOOGDVcgF/22WCrKEbvtHrYVung7RCAUmKgpRMBisdlyF75Qrsmi2wpdXCttEImyYTpDUa2OnrwzsWCzy02Q5Q7HPnzpzb8dOXkeCPY1cHuNj4KJehw9xNq4ULeW5ybMDHDXbruLhvgkvP+DmXycgthQPcYnCau2brf+SwO/au2/p+GTB8smfSdv2A6ER0n1mMQ2yBwdarVvBMeiCaioJar4Ex7xjQiQgYLUaYCk1BiJ6BbrMBZiJB8M+HwTxoB4vdAXpLL26k2qBaQOz/B60dESRO8RFzAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/a2a55febcf4c4f7b5e29ef0b80538acc/bc663/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.webp 213w,
/static/a2a55febcf4c4f7b5e29ef0b80538acc/8dc4f/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.webp 425w,
/static/a2a55febcf4c4f7b5e29ef0b80538acc/10237/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.webp 850w,
/static/a2a55febcf4c4f7b5e29ef0b80538acc/92f8c/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.webp 1200w"
              sizes="(max-width: 850px) 100vw, 850px"
              type="image/webp"
            />
          <source
            srcset="/static/a2a55febcf4c4f7b5e29ef0b80538acc/3cb16/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.png 213w,
/static/a2a55febcf4c4f7b5e29ef0b80538acc/2fbbf/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.png 425w,
/static/a2a55febcf4c4f7b5e29ef0b80538acc/ae694/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.png 850w,
/static/a2a55febcf4c4f7b5e29ef0b80538acc/c1b63/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.png 1200w"
            sizes="(max-width: 850px) 100vw, 850px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/a2a55febcf4c4f7b5e29ef0b80538acc/ae694/Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg.png"
            alt="interfaces de Noyau Linux, unified hierarchy cgroups et systemd"
            title="interfaces de Noyau Linux, unified hierarchy cgroups et systemd"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
    </span>
<a href="https://commons.wikimedia.org/wiki/File:Linux_kernel_unified_hierarchy_cgroups_and_systemd.svg">source</a></p>
<h1>systemctl</h1>
<p>Pour <strong>g√©rer les services</strong> (<code class="language-text">start</code>, <code class="language-text">stop</code>, <code class="language-text">restart</code>, <code class="language-text">status</code>) sur un syst√®me Linux disposant de <code class="language-text">systemd</code>, nous pouvons utiliser la commande <code class="language-text">systemctl</code> (anciennement <code class="language-text">service</code>).</p>
<p>Ces services sont <em>cr√©√©s/param√©tr√©s</em> via des <em>fichiers de configuration</em> se trouvant dans <code class="language-text">/etc/systemd/system/</code> ce qui permet de <a href="https://doc.ubuntu-fr.org/creer_un_service_avec_systemd">cr√©er simplement soi-m√™me des services</a> pour lancer par ex une application web au d√©marrage du syst√®me.</p>
<h2>Liste des commandes systemctl</h2>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">systemctl list-units --failed <span class="token comment"># services en √©chec</span>
systemctl list-unit-files <span class="token comment"># ensemble des services install√©s et leurs status </span>

systemctl status <span class="token comment"># arborescence</span>
systemctl status nom-du-service <span class="token comment"># √©tat du service et ses options/infos de d√©marrage</span>

systemctl status/start/stop/restart/reload nom-du-service <span class="token comment"># gestion d'un service</span>
systemctl enable/disable nom-du-service <span class="token comment"># activation/d√©sactivation d'un service</span>

systemctl -p LogLevel show <span class="token comment"># affiche le LogLevel de systemd</span>
systemd-analyze set-log-level notice <span class="token comment"># modifier le LogLevel jusqu'au prochain reboot</span>

systemctl daemon-reexec <span class="token comment"># red√©marrage du service systemctl (sans rebooter)</span>
systemctl daemon-reload <span class="token comment"># pour prendre en compte une modification de .service</span></code></pre></div>
<h1>journalctl</h1>
<p>Les services g√©r√©s par <strong>systemd</strong> ont leurs logs accessible par d√©faut via la commande <code class="language-text">journalctl</code>.</p>
<p>Pour lister les entr√©es du journal d‚Äôaujourd‚Äôhui <strong>sp√©cifique au service sp√©cifi√©</strong> par l‚Äôoption <code class="language-text">-u nom-service.service</code> (le <code class="language-text">.service</code> peut etre omis).</p>
<p>Pour √©viter de devoir <code class="language-text">sudo</code> il faut faire parti de l'un des groupes <code class="language-text">adm</code> ou <code class="language-text">systemd-journal</code> (voir <a href="linux-gestion-des-utilisateurs.md">Gestion des groupes d'utilisateurs</a>)</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">journalctl -u nginx         <span class="token comment"># filtrer par nom de service</span>
journalctl -f                       <span class="token comment"># follow</span>
journalctl -n <span class="token number">50</span>                    <span class="token comment"># nombre de lignes</span>

journalctl --since today            <span class="token comment"># --since ou -S</span>
journalctl --until yesterday        <span class="token comment"># --until ou -U</span>

<span class="token comment">## Exemples</span>
<span class="token comment"># events de nginx sur la derni√®re heure</span>
journalctl -u nginx --output<span class="token operator">=</span>short-full -S -1h

<span class="token comment"># tous les events logg√©s les 10 derni√®res minutes </span>
journalctl -S -10m</code></pre></div>
<h2>Temps</h2>
<p>Pour la sp√©cification du temps (<code class="language-text">-S</code> ou <code class="language-text">-U</code>) il est possible de sp√©cifier :</p>
<ul>
<li>"yesterday", "today", "tomorrow", "now"</li>
<li>une dur√©e relative avec <code class="language-text">-</code> ou <code class="language-text">+</code> un chiffre et une unit√© de temps :
‚Ä¢   usec, us, ¬µs
‚Ä¢   msec, <code class="language-text">ms</code>
‚Ä¢   seconds, second, sec, <code class="language-text">s</code>
‚Ä¢   minutes, minute, min, <code class="language-text">m</code>
‚Ä¢   hours, hour, hr, <code class="language-text">h</code>
‚Ä¢   days, day, <code class="language-text">d</code>
‚Ä¢   weeks, week, <code class="language-text">w</code>
‚Ä¢   months, month, <code class="language-text">M</code> (defined as 30.44 days)
‚Ä¢   years, year, <code class="language-text">y</code> (defined as 365.25 days)</li>
</ul>
<p>voir <code class="language-text">man systemd.time</code> pour plus d'infos sur les formats de date</p>
<h2>Gestion du journal</h2>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">journalctl --verify
journalctl --disk-usage</code></pre></div>
<h2>Vider le journal</h2>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">journalctl --vacuum-time<span class="token operator">=</span>2d
journalctl --vacuum-size<span class="token operator">=</span>500M</code></pre></div>
<h1>timedatectl</h1>
<p>la commande <code class="language-text">timedatectl</code> qui permet de lire et modifier la date/heure/fuseau horaire :</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token function">sudo</span> timedatectl
<span class="token function">sudo</span> timedatectl list-timezones
<span class="token function">sudo</span> timedatectl set-timezone Europe/Paris</code></pre></div>
<h1>Binaires</h1>
<p>Voici par exemple la liste des binaires systemd pr√©sents sur un syst√®me <a href="https://www.raspberrypi.com/documentation/computers/os.html">Raspberry Pi OS</a>:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">bluetoothctl
bootctl
busctl
cec-ctl
cx18-ctl
hostnamectl  <span class="token operator">&lt;=</span>
ir-ctl
ivtv-ctl
journalctl   <span class="token operator">&lt;=</span>
keyctl
localectl    <span class="token operator">&lt;=</span>
loginctl     <span class="token operator">&lt;=</span>
media-ctl
networkctl   <span class="token operator">&lt;=</span>
obexctl
rds-ctl
resolvectl   <span class="token operator">&lt;=</span>
systemctl    <span class="token operator">&lt;=</span>
timedatectl  <span class="token operator">&lt;=</span>
udisksctl
v4l2-ctl
wdctl</code></pre></div>
<h1>Liens</h1>
<ul>
<li><a href="https://linuxfr.org/news/evolutions-techniques-de-systemd">√âvolutions techniques de systemd</a> sur linuxfr.org üëç et interview de son cr√©ateur <a href="https://linuxfr.org/news/un-entretien-avec-lennart-poettering">Lennart Poettering</a></li>
<li><a href="https://fr.wikipedia.org/wiki/Systemd#Concept">Conceptes</a> - wikipedia</li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units">How to use Systemctl</a></li>
<li>Configurer un <a href="https://www.digitalocean.com/community/tutorials/how-to-configure-a-linux-service-to-start-automatically-after-a-crash-or-reboot-part-1-practical-examples">red√©marrage de service au reboot et apr√®s un crash</a></li>
<li><a href="https://wiki.archlinux.org/title/Systemd_(Fran%C3%A7ais)">systemd</a> de l'ArchWiki</li>
</ul>
<h2>Videos</h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=NNgZXNQtil8">We Need to Talk About Systemd</a>: Boot Time Optimization for the New init daemon - Chris Simmonds, 2net</li>
<li><a href="https://www.youtube.com/watch?v=hc7J-zWEty8">Why Systemd is the Devil but I Love It</a></li>
<li><a href="https://www.youtube.com/watch?v=y3NYrC5RiRo">Systemd Is Hated By Many, But Does It Deserve It?</a></li>
</ul></div><style data-emotion="css 4bwvtq">.css-4bwvtq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;row-gap:0.3rem;margin:3rem 0 1rem;}.css-4bwvtq>:not(style)+:not(style){margin:0;margin-left:8px;}</style><div class="css-4bwvtq"><a style="text-decoration:none" href="/?tag=journalctl"><style data-emotion="css b41ts0">.css-b41ts0{font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:24px;color:rgba(0, 0, 0, 0.87);background-color:rgba(0, 0, 0, 0.08);border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;background-color:transparent;border:1px solid #bdbdbd;cursor:pointer;}.css-b41ts0.Mui-disabled{opacity:0.38;pointer-events:none;}.css-b41ts0 .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-b41ts0 .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-b41ts0 .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-b41ts0 .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-b41ts0 .MuiChip-icon{color:#616161;margin-left:4px;margin-right:-4px;font-size:18px;}.css-b41ts0 .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(0, 0, 0, 0.26);font-size:16px;cursor:pointer;margin:0 5px 0 -6px;margin-right:4px;margin-left:-4px;}.css-b41ts0 .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-b41ts0.MuiChip-clickable:hover{background-color:rgba(0, 0, 0, 0.04);}.css-b41ts0.Mui-focusVisible{background-color:rgba(0, 0, 0, 0.12);}.css-b41ts0 .MuiChip-avatar{margin-left:4px;}.css-b41ts0 .MuiChip-avatarSmall{margin-left:2px;}.css-b41ts0 .MuiChip-icon{margin-left:4px;}.css-b41ts0 .MuiChip-iconSmall{margin-left:2px;}.css-b41ts0 .MuiChip-deleteIcon{margin-right:5px;}.css-b41ts0 .MuiChip-deleteIconSmall{margin-right:3px;}</style><div class="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlinedDefault css-b41ts0"><style data-emotion="css 1pjtbja">.css-1pjtbja{overflow:hidden;text-overflow:ellipsis;padding-left:8px;padding-right:8px;white-space:nowrap;}</style><span class="MuiChip-label MuiChip-labelSmall css-1pjtbja">journalctl</span></div></a><a style="text-decoration:none" href="/?tag=linux"><div class="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlinedDefault css-b41ts0"><span class="MuiChip-label MuiChip-labelSmall css-1pjtbja">linux</span></div></a><a style="text-decoration:none" href="/?tag=service"><div class="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlinedDefault css-b41ts0"><span class="MuiChip-label MuiChip-labelSmall css-1pjtbja">service</span></div></a><a style="text-decoration:none" href="/?tag=systemctl"><div class="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlinedDefault css-b41ts0"><span class="MuiChip-label MuiChip-labelSmall css-1pjtbja">systemctl</span></div></a><a style="text-decoration:none" href="/?tag=systemd"><div class="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlinedDefault css-b41ts0"><span class="MuiChip-label MuiChip-labelSmall css-1pjtbja">systemd</span></div></a><a style="text-decoration:none" href="/?tag=init"><div class="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlinedDefault css-b41ts0"><span class="MuiChip-label MuiChip-labelSmall css-1pjtbja">init</span></div></a></div><style data-emotion="css y6ucz">.css-y6ucz{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.75;letter-spacing:0.00938em;color:rgba(0, 0, 0, 0.38);}</style><i class="MuiTypography-root MuiTypography-subtitle1 css-y6ucz"><div><span>r√©dig√© le 25/03/19<!-- --> </span><span>, <!-- -->maj le 22/03/22<!-- --> </span>par <!-- -->Behrouze</div></i></main><footer><style data-emotion="css 1cksea9">.css-1cksea9{border-top:1px solid #90a4ae;margin:2rem 0;padding:1.5rem 0;}@media (min-width:0px){.css-1cksea9{display:none;}}@media (min-width:600px){.css-1cksea9{display:block;}}</style><div class="MuiBox-root css-1cksea9"><style data-emotion="css 1hq69am">.css-1hq69am{-webkit-text-decoration:none;text-decoration:none;margin-right:2rem;}</style><style data-emotion="css 1l5ulo5">.css-1l5ulo5{margin:0;color:#37474f;-webkit-text-decoration:none;text-decoration:none;margin-right:2rem;}</style><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone css-1l5ulo5" href="/a-propos-contact">A propos</a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone css-1l5ulo5" href="/cheat-sheets">Cheat Sheets</a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone css-1l5ulo5" href="/tools">Outils</a><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone css-1l5ulo5" href="/must-see-videos">Vid√©os</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-29210389-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/linux-systemd";window.___webpackCompilationHash="41708d68f03b2bbaec5a";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-14d23f0c9fb58e155a8c.js"],"app":["/app-c7b1d006b53087ecd6d5.js"],"component---src-pages-404-js":["/component---src-pages-404-js-73ec88530ccbc327b9bd.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-c5813646c26a5435190b.js"],"component---src-templates-wp-page-tsx":["/component---src-templates-wp-page-tsx-795d93a539825099c570.js"],"component---src-templates-wp-post-tsx":["/component---src-templates-wp-post-tsx-9a83c07f1892a60f7dd4.js"]};/*]]>*/</script><script src="/polyfill-14d23f0c9fb58e155a8c.js" nomodule=""></script><script src="/component---src-templates-wp-post-tsx-9a83c07f1892a60f7dd4.js" async=""></script><script src="/bd9a198b5f7fb6fa7f93111e3cc9693331ac2819-1d72f15a660aac9e0b11.js" async=""></script><script src="/commons-30350ba6450927006b33.js" async=""></script><script src="/app-c7b1d006b53087ecd6d5.js" async=""></script><script src="/framework-9885544f92f45c4490b7.js" async=""></script><script src="/webpack-runtime-0cfa4ca04d792ac096ab.js" async=""></script></body></html>